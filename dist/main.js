!function(t){var i={};function e(s){if(i[s])return i[s].exports;var l=i[s]={i:s,l:!1,exports:{}};return t[s].call(l.exports,l,l.exports,e),l.l=!0,l.exports}e.m=t,e.c=i,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:s})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var l in t)e.d(s,l,function(i){return t[i]}.bind(null,l));return s},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="/dist/",e(e.s=1)}([function(t,i,e){},function(t,i,e){"use strict";e.r(i),e.d(i,"CELL_SIZE",(function(){return v})),e.d(i,"WALL_RADIUS",(function(){return p})),e.d(i,"GAME_WIDTH",(function(){return b})),e.d(i,"GAME_HEIGHT",(function(){return g}));e(0);function s(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var l=function(){function t(i){var e=this;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.marble=i,this.keys,window.addEventListener("keydown",(function(t){t.preventDefault(),e.keys=e.keys||[],e.keys[t.keyCode]="keydown"==t.type})),window.addEventListener("keyup",(function(t){t.preventDefault(),e.keys[t.keyCode]="keydown"==t.type}))}var i,e,l;return i=t,(e=[{key:"handleInput",value:function(t){this.keys&&this.keys[87]&&this.marble.tiltUp(t),this.keys&&this.keys[83]&&this.marble.tiltDown(t),this.keys&&this.keys[65]&&this.marble.tiltLeft(t),this.keys&&this.keys[68]&&this.marble.tiltRight(t)}}])&&s(i.prototype,e),l&&s(i,l),t}();function a(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var h=function(){function t(i,e,s){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.board=i,this.marble=e,this.walls=s}var i,e,s;return i=t,(e=[{key:"update",value:function(t){this.marble.update(t,this.board.accX,this.board.accY)}},{key:"drawHUD",value:function(t){t.fillStyle="black",t.font="16px Arial",t.fillText("tiltX=".concat(this.marble.tiltX),20,20),t.fillText("tiltY=".concat(this.marble.tiltY),420,20),t.fillText("accX=".concat(this.marble.accX),20,50),t.fillText("accY=".concat(this.marble.accY),420,50),t.fillText("velX=".concat(this.marble.velX),20,80),t.fillText("velY=".concat(this.marble.velY),420,80)}},{key:"draw",value:function(t){this.board.draw(t),this.walls.forEach((function(i){return i.draw(t)})),this.marble.draw(t),this.drawHUD(t)}}])&&a(i.prototype,e),s&&a(i,s),t}();function n(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var r=function(){function t(i,e){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.width=i,this.height=e}var i,e,s;return i=t,(e=[{key:"draw",value:function(t){t.strokeStyle="black",t.beginPath(),t.moveTo(0,0),t.lineTo(this.width,0),t.lineTo(this.width,this.height),t.lineTo(0,this.height),t.lineTo(0,0),t.stroke()}},{key:"calculateAcc",value:function(t){Math.sign(t);var i=Math.abs(t),e=this.degToRad(i);this.grav,Math.sin(e),this.calculateFric(e)}}])&&n(i.prototype,e),s&&n(i,s),t}();function o(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var c=function(){function t(i,e,s){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.radius=i,this.width=e,this.height=s,this.tiltX=0,this.tiltY=0,this.maxTiltX=45,this.maxTiltY=45,this.accX=0,this.accY=0,this.velX=0,this.velY=0,this.posX=300,this.posY=300,this.grav=25e-5,this.fricSCoeff=.2,this.fricKCoeff=.2,this.tiltMultiplier=.03,this.stopX=!1,this.stopY=!1}var i,e,s;return i=t,(e=[{key:"draw",value:function(t){t.fillStyle="blue",t.beginPath(),t.arc(this.posX,this.posY,this.radius,0,2*Math.PI),t.fill()}},{key:"calculateFricS",value:function(t){return this.fricSCoeff*this.grav*Math.cos(t)}},{key:"calculateFricK",value:function(t,i){return this.fricKCoeff*this.grav*Math.cos(t)}},{key:"degToRad",value:function(t){return t*(Math.PI/180)}},{key:"calculateAcc",value:function(t,i,e){var s,l=Math.sign(t);s=0===i?-1*l:-1*Math.sign(i);var a=this.degToRad(Math.abs(t)),h=l*this.grav*Math.sin(a),n=s*this.fricKCoeff*this.grav*Math.cos(a),r=h+n;return Math.abs(h)<=Math.abs(n)&&Math.sign(r)!==Math.sign(i)?("x"===e&&(this.stopX=!0),"y"===e&&(this.stopY=!0)):("x"===e&&(this.stopX=!1),"y"===e&&(this.stopY=!1)),r}},{key:"update",value:function(t){this.accX=this.calculateAcc(this.tiltX,this.velX,"x"),this.accY=this.calculateAcc(this.tiltY,this.velY,"y");var i=this.velX;this.velX+=this.accX*t,Math.sign(i)!==Math.sign(this.velX)&&this.stopX&&(this.velX=0,this.accX=0);var e=this.velY;this.velY+=this.accY*t,Math.sign(e)!==Math.sign(this.velY)&&this.stopY&&(this.velY=0,this.accY=0),this.posX+=this.velX*t,this.posX-this.radius<0?(this.posX=this.radius,this.velX=0):this.posX+this.radius>this.width&&(this.posX=this.width-this.radius,this.velX=0),this.posY+=this.velY*t,this.posY-this.radius<0?(this.posY=this.radius,this.velY=0):this.posY+this.radius>this.height&&(this.posY=this.height-this.radius,this.velY=0)}},{key:"tiltUp",value:function(t){this.tiltY-=t*this.tiltMultiplier,this.tiltY<-1*this.maxTiltY&&(this.tiltY=-1*this.maxTiltY)}},{key:"tiltDown",value:function(t){this.tiltY+=t*this.tiltMultiplier,this.tiltY>this.maxTiltY&&(this.tiltY=this.maxTiltY)}},{key:"tiltLeft",value:function(t){this.tiltX-=t*this.tiltMultiplier,this.tiltX<-1*this.maxTiltX&&(this.tiltX=-1*this.maxTiltX)}},{key:"tiltRight",value:function(t){this.tiltX+=t*this.tiltMultiplier,this.tiltX>this.maxTiltX&&(this.tiltX=this.maxTiltX)}}])&&o(i.prototype,e),s&&o(i,s),t}();function u(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var f=function(){function t(i,e,s,l,a,h){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.startXCell=i,this.startYCell=e,this.orientation=s,this.length=l,this.cellSize=a,this.wallRadius=h,this.radius=h,this.topLeft,this.topRight,this.bottomLeft,this.bottomRight,this.calculateDimensions()}var i,e,s;return i=t,(e=[{key:"calculateDimensions",value:function(){"x"===this.orientation?(this.topLeft={x:this.startXCell*this.cellSize,y:this.startYCell*this.cellSize-this.radius},this.bottomLeft={x:this.startXCell*this.cellSize,y:this.startYCell*this.cellSize+this.radius},this.topRight={x:(this.startXCell+this.length)*this.cellSize,y:this.startYCell*this.cellSize-this.radius},this.bottomRight={x:(this.startXCell+this.length)*this.cellSize,y:this.startYCell*this.cellSize+this.radius}):"y"===this.orientation&&(this.topLeft={x:this.startXCell*this.cellSize-this.radius,y:this.startYCell*this.cellSize},this.topRight={x:this.startXCell*this.cellSize+this.radius,y:this.startYCell*this.cellSize},this.bottomLeft={x:this.startXCell*this.cellSize-this.radius,y:(this.startYCell+this.length)*this.cellSize},this.bottomRight={x:this.startXCell*this.cellSize+this.radius,y:(this.startYCell+this.length)*this.cellSize})}},{key:"draw",value:function(t){t.fillStyle="black",t.fillRect(this.topLeft.x,this.topLeft.y,this.topRight.x-this.topLeft.x,this.bottomLeft.y-this.topLeft.y)}}])&&u(i.prototype,e),s&&u(i,s),t}(),d=[new f(18,0,"y",2,36,2),new f(0,2,"x",2,36,2)],y=document.getElementById("game-screen").getContext("2d"),v=36,p=2,b=22*v,g=18*v,m=v/3,X=new r(b,g),Y=new c(m,b,g),w=new l(Y),k=new h(X,Y,d),x=0;requestAnimationFrame((function t(i){var e=i-x;x=i,w.handleInput(e),y.clearRect(0,0,b,g),k.update(e),k.draw(y),requestAnimationFrame(t)}))}]);
//# sourceMappingURL=main.js.map