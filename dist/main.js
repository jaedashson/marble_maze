!function(t){var i={};function e(s){if(i[s])return i[s].exports;var h=i[s]={i:s,l:!1,exports:{}};return t[s].call(h.exports,h,h.exports,e),h.l=!0,h.exports}e.m=t,e.c=i,e.d=function(t,i,s){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:s})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var h in t)e.d(s,h,function(i){return t[i]}.bind(null,h));return s},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="/dist/",e(e.s=1)}([function(t,i,e){},function(t,i,e){"use strict";e.r(i),e.d(i,"CELL_SIZE",(function(){return p})),e.d(i,"WALL_RADIUS",(function(){return v})),e.d(i,"GAME_WIDTH",(function(){return w})),e.d(i,"GAME_HEIGHT",(function(){return b}));e(0);function s(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var h=function(){function t(i){var e=this;!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.marble=i,this.keys,window.addEventListener("keydown",(function(t){t.preventDefault(),e.keys=e.keys||[],e.keys[t.keyCode]="keydown"==t.type})),window.addEventListener("keyup",(function(t){t.preventDefault(),e.keys[t.keyCode]="keydown"==t.type}))}var i,e,h;return i=t,(e=[{key:"handleInput",value:function(t){this.keys&&this.keys[87]&&this.marble.tiltUp(t),this.keys&&this.keys[83]&&this.marble.tiltDown(t),this.keys&&this.keys[65]&&this.marble.tiltLeft(t),this.keys&&this.keys[68]&&this.marble.tiltRight(t)}}])&&s(i.prototype,e),h&&s(i,h),t}();function n(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var a=function(){function t(i,e,s){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.board=i,this.marble=e,this.walls=s}var i,e,s;return i=t,(e=[{key:"update",value:function(t){this.marble.update(t,this.board.accX,this.board.accY)}},{key:"drawHUD",value:function(t){t.fillStyle="blue",t.font="16px Arial",t.fillText("tiltX=".concat(this.marble.tiltX),20,26),t.fillText("tiltY=".concat(this.marble.tiltY),420,26),t.fillText("accX=".concat(this.marble.accX),20,56),t.fillText("accY=".concat(this.marble.accY),420,56),t.fillText("velX=".concat(this.marble.velX),20,86),t.fillText("velY=".concat(this.marble.velY),420,86)}},{key:"draw",value:function(t){this.board.draw(t),this.walls.forEach((function(i){return i.draw(t)})),this.marble.draw(t),this.drawHUD(t)}}])&&n(i.prototype,e),s&&n(i,s),t}();function l(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var r=function(){function t(i,e){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.width=i,this.height=e}var i,e,s;return i=t,(e=[{key:"draw",value:function(t){t.strokeStyle="black",t.beginPath(),t.moveTo(0,0),t.lineTo(this.width,0),t.lineTo(this.width,this.height),t.lineTo(0,this.height),t.lineTo(0,0),t.stroke()}},{key:"calculateAcc",value:function(t){Math.sign(t);var i=Math.abs(t),e=this.degToRad(i);this.grav,Math.sin(e),this.calculateFric(e)}}])&&l(i.prototype,e),s&&l(i,s),t}();function o(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var c=function(){function t(i,e,s){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.radius=i,this.width=e,this.height=s,this.tiltX=0,this.tiltY=0,this.maxTiltX=45,this.maxTiltY=45,this.accX=0,this.accY=0,this.velX=0,this.velY=0,this.posX=300,this.posY=300,this.grav=25e-5,this.fricSCoeff=.2,this.fricKCoeff=.2,this.tiltMultiplier=.03,this.stopX=!1,this.stopY=!1}var i,e,s;return i=t,(e=[{key:"draw",value:function(t){t.fillStyle="blue",t.beginPath(),t.arc(this.posX,this.posY,this.radius,0,2*Math.PI),t.fill()}},{key:"calculateFricS",value:function(t){return this.fricSCoeff*this.grav*Math.cos(t)}},{key:"calculateFricK",value:function(t,i){return this.fricKCoeff*this.grav*Math.cos(t)}},{key:"degToRad",value:function(t){return t*(Math.PI/180)}},{key:"calculateAcc",value:function(t,i,e){var s,h=Math.sign(t);s=0===i?-1*h:-1*Math.sign(i);var n=this.degToRad(Math.abs(t)),a=h*this.grav*Math.sin(n),l=s*this.fricKCoeff*this.grav*Math.cos(n),r=a+l;return Math.abs(a)<=Math.abs(l)&&Math.sign(r)!==Math.sign(i)?("x"===e&&(this.stopX=!0),"y"===e&&(this.stopY=!0)):("x"===e&&(this.stopX=!1),"y"===e&&(this.stopY=!1)),r}},{key:"update",value:function(t){this.accX=this.calculateAcc(this.tiltX,this.velX,"x"),this.accY=this.calculateAcc(this.tiltY,this.velY,"y");var i=this.velX;this.velX+=this.accX*t,Math.sign(i)!==Math.sign(this.velX)&&this.stopX&&(this.velX=0,this.accX=0);var e=this.velY;this.velY+=this.accY*t,Math.sign(e)!==Math.sign(this.velY)&&this.stopY&&(this.velY=0,this.accY=0),this.posX+=this.velX*t,this.posX-this.radius<0?(this.posX=this.radius,this.velX=0):this.posX+this.radius>this.width&&(this.posX=this.width-this.radius,this.velX=0),this.posY+=this.velY*t,this.posY-this.radius<0?(this.posY=this.radius,this.velY=0):this.posY+this.radius>this.height&&(this.posY=this.height-this.radius,this.velY=0)}},{key:"tiltUp",value:function(t){this.tiltY-=t*this.tiltMultiplier,this.tiltY<-1*this.maxTiltY&&(this.tiltY=-1*this.maxTiltY)}},{key:"tiltDown",value:function(t){this.tiltY+=t*this.tiltMultiplier,this.tiltY>this.maxTiltY&&(this.tiltY=this.maxTiltY)}},{key:"tiltLeft",value:function(t){this.tiltX-=t*this.tiltMultiplier,this.tiltX<-1*this.maxTiltX&&(this.tiltX=-1*this.maxTiltX)}},{key:"tiltRight",value:function(t){this.tiltX+=t*this.tiltMultiplier,this.tiltX>this.maxTiltX&&(this.tiltX=this.maxTiltX)}}])&&o(i.prototype,e),s&&o(i,s),t}();function u(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var f=function(){function t(i,e,s,h,n,a,l,r){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.startXCell=i,this.startYCell=e,this.orientation=s,this.length=h,this.cellSize=n,this.radius=a,this.modStart=l,this.modEnd=r,this.topLeft,this.topRight,this.bottomLeft,this.bottomRight,this.calculateDimensions()}var i,e,s;return i=t,(e=[{key:"calculateDimensions",value:function(){"x"===this.orientation?(this.topLeft={x:this.startXCell*this.cellSize,y:this.startYCell*this.cellSize-this.radius},this.bottomLeft={x:this.startXCell*this.cellSize,y:this.startYCell*this.cellSize+this.radius},this.modStart<0?(this.topLeft.x+=this.radius,this.bottomLeft.x+=this.radius):this.modStart>0&&(this.topLeft.x-=this.radius,this.bottomLeft.x-=this.radius),this.topRight={x:(this.startXCell+this.length)*this.cellSize,y:this.startYCell*this.cellSize-this.radius},this.bottomRight={x:(this.startXCell+this.length)*this.cellSize,y:this.startYCell*this.cellSize+this.radius},this.modEnd<0?(this.topRight.x-=this.radius,this.bottomRight.x-=this.radius):this.modEnd>0&&(this.topRight.x+=this.radius,this.bottomRight.x+=this.radius)):"y"===this.orientation&&(this.topLeft={x:this.startXCell*this.cellSize-this.radius,y:this.startYCell*this.cellSize},this.topRight={x:this.startXCell*this.cellSize+this.radius,y:this.startYCell*this.cellSize},this.modStart<0?(this.topLeft.y+=this.radius,this.topRight.y+=this.radius):this.modStart>0&&(this.topLeft.y-=this.radius,this.topRight.y-=this.radius),this.bottomLeft={x:this.startXCell*this.cellSize-this.radius,y:(this.startYCell+this.length)*this.cellSize},this.bottomRight={x:this.startXCell*this.cellSize+this.radius,y:(this.startYCell+this.length)*this.cellSize},this.modEnd<0?(this.bottomLeft.y-=this.radius,this.bottomRight.y-=this.radius):this.modEnd>0&&(this.bottomLeft.y+=this.radius,this.bottomRight.y+=this.radius))}},{key:"draw",value:function(t){t.fillStyle="black",t.fillRect(this.topLeft.x,this.topLeft.y,this.topRight.x-this.topLeft.x,this.bottomLeft.y-this.topLeft.y)}}])&&u(i.prototype,e),s&&u(i,s),t}(),d=[new f(18,0,"y",2,36,2,0,1),new f(0,2,"x",2,36,2,0,0),new f(10,2,"x",2,36,2,0,0),new f(16,2,"x",2,36,2,0,-1),new f(6,2,"y",4,36,2,0,-1),new f(8,2,"y",2,36,2,0,0),new f(20,2,"y",2,36,2,0,1),new f(2,4,"x",2,36,2,1,0),new f(10,4,"x",2,36,2,0,0),new f(16,4,"x",4,36,2,0,-1),new f(2,4,"y",2,36,2,-1,0),new f(14,4,"y",2,36,2,0,-1),new f(4,6,"x",6,36,2,0,0),new f(12,6,"x",4,36,2,1,1),new f(20,6,"x",2,36,2,0,0),new f(12,6,"y",2,36,2,-1,-1),new f(16,6,"y",8,36,2,-1,-1),new f(18,6,"y",2,36,2,0,0),new f(0,8,"x",4,36,2,0,0),new f(10,8,"x",4,36,2,0,0),new f(6,8,"y",4,36,2,0,-1),new f(8,8,"y",2,36,2,0,0),new f(20,8,"y",2,36,2,0,1),new f(2,10,"x",2,36,2,0,0),new f(16,10,"x",4,36,2,-1,-1),new f(4,12,"x",4,36,2,1,1),new f(12,12,"x",2,36,2,1,0),new f(18,12,"x",2,36,2,0,1),new f(2,12,"y",2,36,2,0,0),new f(4,12,"y",4,36,2,-1,1),new f(8,12,"y",4,36,2,-1,1),new f(10,12,"y",2,36,2,0,0),new f(12,12,"y",2,36,2,-1,0),new f(20,12,"y",2,36,2,-1,1),new f(14,14,"x",4,36,2,0,1),new f(20,14,"x",2,36,2,-1,0),new f(6,14,"y",4,36,2,0,0),new f(18,14,"y",4,36,2,-1,0),new f(2,16,"x",2,36,2,0,-1),new f(8,16,"x",8,36,2,-1,0)],y=document.getElementById("game-screen").getContext("2d"),p=36,v=2,w=22*p,b=18*p,m=p/3,g=new r(w,b),x=new c(m,w,b),X=new h(x),Y=new a(g,x,d),k=0;requestAnimationFrame((function t(i){var e=i-k;k=i,X.handleInput(e),y.clearRect(0,0,w,b),Y.update(e),Y.draw(y),requestAnimationFrame(t)}))}]);
//# sourceMappingURL=main.js.map