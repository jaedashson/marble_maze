{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/scripts/input.js","webpack:///./src/scripts/game.js","webpack:///./src/scripts/board.js","webpack:///./src/scripts/marble.js","webpack:///./src/scripts/wall.js","webpack:///./src/scripts/walls.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","InputHandler","marble","this","keys","window","addEventListener","e","preventDefault","keyCode","type","deltaTime","tiltUp","tiltDown","tiltLeft","tiltRight","Game","board","walls","update","accX","accY","ctx","fillStyle","font","fillText","tiltX","tiltY","velX","velY","draw","forEach","wall","drawHUD","Board","width","height","strokeStyle","beginPath","moveTo","lineTo","stroke","deg","Math","sign","degAbs","abs","rad","degToRad","grav","sin","calculateFric","Marble","radius","maxTiltX","maxTiltY","posX","posY","fricSCoeff","fricKCoeff","tiltMultiplier","stopX","stopY","arc","PI","fill","cos","vel","axis","dirFric","dirAcc","acc","fric","accNet","calculateAcc","prevVelX","prevVelY","Wall","startXCell","startYCell","orientation","length","cellSize","wallRadius","modStart","modEnd","topLeft","topRight","bottomLeft","bottomRight","calculateDimensions","x","y","fillRect","document","getElementById","getContext","CELL_SIZE","WALL_RADIUS","GAME_WIDTH","GAME_HEIGHT","MARBLE_RADIUS","inputHandler","game","lastTime","requestAnimationFrame","gameLoop","timestamp","handleInput","clearRect"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","export default class InputHandler {\n  constructor(marble) {\n    this.marble = marble;\n    this.keys;\n\n    window.addEventListener(\"keydown\", e => {\n      e.preventDefault();\n      this.keys = (this.keys || []);\n      this.keys[e.keyCode] = (e.type == \"keydown\");\n    })\n\n    window.addEventListener(\"keyup\", e => {\n      e.preventDefault();\n      this.keys[e.keyCode] = (e.type == \"keydown\");\n    })\n  }\n\n  handleInput(deltaTime) {\n    if (this.keys && this.keys[87]) { this.marble.tiltUp(deltaTime); }\n    if (this.keys && this.keys[83]) { this.marble.tiltDown(deltaTime); }\n    if (this.keys && this.keys[65]) { this.marble.tiltLeft(deltaTime); }\n    if (this.keys && this.keys[68]) { this.marble.tiltRight(deltaTime); }\n  }\n}","export default class Game {\n  constructor(board, marble, walls) {\n    this.board = board;\n    this.marble = marble;\n    this.walls = walls;\n  }\n  \n  update(deltaTime) {\n    // this.board.update(deltaTime);\n    this.marble.update(deltaTime, this.board.accX, this.board.accY);\n  }\n\n  drawHUD(ctx) {\n    ctx.fillStyle = \"blue\";\n    ctx.font = \"16px Arial\";\n    ctx.fillText(`tiltX=${this.marble.tiltX}`, 20, 26);\n    ctx.fillText(`tiltY=${this.marble.tiltY}`, 420, 26)\n    ctx.fillText(`accX=${this.marble.accX}`, 20, 56);\n    ctx.fillText(`accY=${this.marble.accY}`, 420, 56)\n    ctx.fillText(`velX=${this.marble.velX}`, 20, 86);\n    ctx.fillText(`velY=${this.marble.velY}`, 420, 86)\n  }\n\n  draw(ctx) {\n    this.board.draw(ctx);\n    this.walls.forEach(wall => wall.draw(ctx));\n    this.marble.draw(ctx);\n    this.drawHUD(ctx);\n  }\n}","export default class Board {\n  constructor(width, height) {\n    this.width = width;\n    this.height = height;\n  }\n\n  draw(ctx) {\n    ctx.strokeStyle = \"black\";\n    ctx.beginPath();\n    ctx.moveTo(0, 0);\n    ctx.lineTo(this.width, 0);\n    ctx.lineTo(this.width, this.height);\n    ctx.lineTo(0, this.height);\n    ctx.lineTo(0, 0);\n    ctx.stroke();\n  }\n\n  // a = gsinÎ¸\n  calculateAcc(deg) {\n    let sign = Math.sign(deg);\n    let degAbs = Math.abs(deg);\n    let rad = this.degToRad(degAbs);\n    let acc = sign * this.grav * Math.sin(rad);\n\n    let fric = this.calculateFric(rad);\n  }\n}","export default class Marble {\n  constructor(radius, width, height) {\n    this.radius = radius;\n    this.width = width;\n    this.height = height;\n    this.tiltX = 0;\n    this.tiltY = 0;\n    this.maxTiltX = 45;\n    this.maxTiltY = 45;\n    this.accX = 0;\n    this.accY = 0;\n    this.velX = 0;\n    this.velY = 0;\n    // this.maxSpeed = 10;\n    // this.minSpeed = -10;\n    this.posX = 300;\n    this.posY = 300;\n    this.grav = 0.00025; // Adjust\n    this.fricSCoeff = 0.2; // Adjust\n    this.fricKCoeff = 0.2; // Adjust\n    this.tiltMultiplier = 0.03; // Adjust\n    this.stopX = false;\n    this.stopY = false;\n  }\n\n  draw(ctx) {\n    ctx.fillStyle = \"blue\";\n    ctx.beginPath();\n    ctx.arc(this.posX, this.posY, this.radius, 0, 2 * Math.PI);\n    ctx.fill();\n  }\n\n  calculateFricS(rad) {\n    return this.fricSCoeff * this.grav * Math.cos(rad);\n  }\n\n  calculateFricK(rad, vel) {\n    return this.fricKCoeff * this.grav * Math.cos(rad);\n  }\n\n  degToRad(deg) {\n    return deg * (Math.PI / 180);\n  }\n\n  calculateAcc(deg, vel, axis) {\n    // console.log(\"calculating acceleration!\");\n    let dirAcc = Math.sign(deg);\n    let dirFric;\n    if (vel === 0) { // Is this correct?\n      dirFric = -1 * dirAcc;\n    } else {\n      dirFric = -1 * Math.sign(vel);\n    }\n\n    let rad = this.degToRad(Math.abs(deg));\n\n    let acc = dirAcc * this.grav * Math.sin(rad);\n    let fric = dirFric * this.fricKCoeff * this.grav * Math.cos(rad);\n    let accNet = acc + fric;\n\n    if (Math.abs(acc) <= Math.abs(fric) && Math.sign(accNet) !== Math.sign(vel)) {\n      if (axis === \"x\") this.stopX = true;\n      if (axis === \"y\") this.stopY = true;\n    } else {\n      if (axis === \"x\") this.stopX = false;\n      if (axis === \"y\") this.stopY = false;\n    }\n\n    return accNet;\n  }\n\n  update(deltaTime) {\n    // Update accelerations\n    this.accX = this.calculateAcc(this.tiltX, this.velX, \"x\");\n    this.accY = this.calculateAcc(this.tiltY, this.velY, \"y\");\n\n    // Update velX\n    let prevVelX = this.velX;\n    this.velX += this.accX * deltaTime;\n    if (Math.sign(prevVelX) !== Math.sign(this.velX) && this.stopX) {\n      this.velX = 0;\n      this.accX = 0;\n    }\n\n    // Update velY\n    let prevVelY = this.velY;\n    this.velY += this.accY * deltaTime;\n    if (Math.sign(prevVelY) !== Math.sign(this.velY) && this.stopY) {\n      this.velY = 0;\n      this.accY = 0;\n    }\n    \n    // Update posX\n    this.posX += this.velX * deltaTime;\n    if (this.posX - this.radius < 0) {\n      this.posX = this.radius;\n      this.velX = 0;\n    } else if (this.posX + this.radius > this.width) {\n      this.posX = this.width - this.radius;\n      this.velX = 0;\n    }\n\n    // Update posY\n    this.posY += this.velY * deltaTime;\n    if (this.posY - this.radius < 0) {\n      this.posY = this.radius;\n      this.velY = 0;\n    } else if (this.posY + this.radius > this.height) {\n      this.posY = this.height - this.radius;\n      this.velY = 0;\n    }\n  }\n\n  tiltUp(deltaTime) {\n    this.tiltY -= deltaTime * this.tiltMultiplier;\n    if (this.tiltY < -1 * this.maxTiltY) this.tiltY = -1 * this.maxTiltY;\n  }\n\n  tiltDown(deltaTime) {\n    this.tiltY += deltaTime * this.tiltMultiplier;\n    if (this.tiltY > this.maxTiltY) this.tiltY = this.maxTiltY;\n  }\n\n  tiltLeft(deltaTime) {\n    this.tiltX -= deltaTime * this.tiltMultiplier;\n    if (this.tiltX < -1 * this.maxTiltX) this.tiltX = -1 * this.maxTiltX;\n  }\n\n  tiltRight(deltaTime) {\n    this.tiltX += deltaTime * this.tiltMultiplier;\n    if (this.tiltX > this.maxTiltX) this.tiltX = this.maxTiltX;\n  }\n}","import { CELL_SIZE, WALL_RADIUS } from \"../index\"; // Why don't these imports work?\n\n// modStart > 0 => extend the starting portion of the wall\n// modStart < 0 => shorten the starting portion of the wall\n// modEnd > 0 => extend the ending portion of the wall\n// modEnd < 0 => shorten the ending portion of the wall\n\nexport default class Wall {\n  constructor(startXCell, startYCell, orientation, length, cellSize, wallRadius, modStart, modEnd) {\n    debugger // FIXME\n    this.startXCell = startXCell;\n    this.startYCell = startYCell;\n    this.orientation = orientation;\n    this.length = length;\n    this.cellSize = cellSize;\n    this.radius = wallRadius;\n    this.modStart = modStart;\n    this.modEnd = modEnd;\n\n    // Calculate dimensions\n    this.topLeft;\n    this.topRight;\n    this.bottomLeft;\n    this.bottomRight;\n    this.calculateDimensions();\n  }\n\n  calculateDimensions() {\n    if (this.orientation === \"x\") {\n      this.topLeft = {\n        x: this.startXCell * this.cellSize,\n        y: this.startYCell * this.cellSize - this.radius\n      };\n      this.bottomLeft = {\n        x: this.startXCell * this.cellSize,\n        y: this.startYCell * this.cellSize + this.radius\n      };\n      \n      if (this.modStart < 0) {\n        this.topLeft.x += this.radius;\n        this.bottomLeft.x += this.radius;\n      } else if (this.modStart > 0) {\n        this.topLeft.x -= this.radius;\n        this.bottomLeft.x -= this.radius;\n      }\n\n      this.topRight = {\n        x: (this.startXCell + this.length) * this.cellSize,\n        y: this.startYCell * this.cellSize - this.radius\n      };\n      this.bottomRight = {\n        x: (this.startXCell + this.length) * this.cellSize,\n        y: this.startYCell * this.cellSize + this.radius\n      };\n\n      if (this.modEnd < 0) {\n        this.topRight.x -= this.radius;\n        this.bottomRight.x -= this.radius;\n      } else if (this.modEnd > 0) {\n        this.topRight.x += this.radius;\n        this.bottomRight.x += this.radius;\n      }\n\n    } else if (this.orientation === \"y\") {\n      this.topLeft = {\n        x: this.startXCell * this.cellSize - this.radius,\n        y: this.startYCell * this.cellSize\n      };\n      this.topRight = {\n        x: this.startXCell * this.cellSize + this.radius,\n        y: this.startYCell * this.cellSize\n      };\n\n      if (this.modStart < 0) {\n        this.topLeft.y += this.radius;\n        this.topRight.y += this.radius;\n      } else if (this.modStart > 0) {\n        this.topLeft.y -= this.radius;\n        this.topRight.y -= this.radius;\n      }\n\n      this.bottomLeft = {\n        x: this.startXCell * this.cellSize - this.radius,\n        y: (this.startYCell + this.length) * this.cellSize \n      };\n      this.bottomRight = {\n        x: this.startXCell * this.cellSize + this.radius,\n        y: (this.startYCell + this.length) * this.cellSize\n      };\n\n      if (this.modEnd < 0) {\n        this.bottomLeft.y -= this.radius;\n        this.bottomRight.y -= this.radius;\n      } else if (this.modEnd > 0) {\n        this.bottomLeft.y += this.radius;\n        this.bottomRight.y += this.radius;\n      }\n\n    }\n  }\n\n  draw(ctx) {\n    ctx.fillStyle = \"black\";\n    ctx.fillRect(this.topLeft.x, this.topLeft.y, this.topRight.x - this.topLeft.x, this.bottomLeft.y - this.topLeft.y);\n  }\n}","import Wall from \"./wall\";\nimport { CELL_SIZE, WALL_RADIUS } from \"../index\"; // Why don't these imports work?\n\ndebugger // FIXME\nconst walls = [\n  new Wall(18, 0, \"y\", 2, 36, 2, 0, 1), // 1\n  new Wall(0, 2, \"x\", 2, 36, 2, 0, 0), // 2\n  new Wall(10, 2, \"x\", 2, 36, 2, 0, 0), // 3\n  new Wall(16, 2, \"x\", 2, 36, 2, 0, -1), // 4\n  new Wall(6, 2, \"y\", 4, 36, 2, 0, -1), // 5\n  new Wall(8, 2, \"y\", 2, 36, 2, 0, 0), // 6\n  new Wall(20, 2, \"y\", 2, 36, 2, 0, 1), // 7\n  new Wall(2, 4, \"x\", 2, 36, 2, 1, 0), // 8\n  new Wall(10, 4, \"x\", 2, 36, 2, 0, 0), // 9\n  new Wall(16, 4, \"x\", 4, 36, 2, 0, -1), // 10\n  new Wall(2, 4, \"y\", 2, 36, 2, -1, 0), // 11\n  new Wall(14, 4, \"y\", 2, 36, 2, 0, -1), // 12\n  new Wall(4, 6, \"x\", 6, 36, 2, 0, 0), // 13\n  new Wall(12, 6, \"x\", 4, 36, 2, 1, 1), // 14\n  new Wall(20, 6, \"x\", 2, 36, 2, 0, 0), // 15\n  new Wall(12, 6, \"y\", 2, 36, 2, -1, -1), // 16\n  new Wall(16, 6, \"y\", 8, 36, 2, -1, -1), // 17\n  new Wall(18, 6, \"y\", 2, 36, 2, 0, 0), // 18\n  new Wall(0, 8, \"x\", 4, 36, 2, 0, 0), // 19\n  new Wall(10, 8, \"x\", 4, 36, 2, 0, 0), // 20\n  new Wall(6, 8, \"y\", 4, 36, 2, 0, -1), // 21\n  new Wall(8, 8, \"y\", 2, 36, 2, 0, 0), // 22\n  new Wall(20, 8, \"y\", 2, 36, 2, 0, 1), // 23\n  new Wall(2, 10, \"x\", 2, 36, 2, 0, 0), // 24\n  new Wall(16, 10, \"x\", 4, 36, 2, -1, -1), // 25\n  new Wall(4, 12, \"x\", 4, 36, 2, 1, 1), // 26\n  new Wall(12, 12, \"x\", 2, 36, 2, 1, 0), // 27\n  new Wall(18, 12, \"x\", 2, 36, 2, 0, 1), // 28\n  new Wall(2, 12, \"y\", 2, 36, 2, 0, 0), // 29\n  new Wall(4, 12, \"y\", 4, 36, 2, -1, 1), // 30\n  new Wall(8, 12, \"y\", 4, 36, 2, -1, 1), // 31\n  new Wall(10, 12, \"y\", 2, 36, 2, 0, 0), // 32\n  new Wall(12, 12, \"y\", 2, 36, 2, -1, 0), // 33\n  new Wall(20, 12, \"y\", 2, 36, 2, -1, 1), // 34\n  new Wall(14, 14, \"x\", 4, 36, 2, 0, 1), // 35\n  new Wall(20, 14, \"x\", 2, 36, 2, -1, 0), // 36\n  new Wall(6, 14, \"y\", 4, 36, 2, 0, 0), // 37\n  new Wall(18, 14, \"y\", 4, 36, 2, -1, 0), // 38\n  new Wall(2, 16, \"x\", 2, 36, 2, 0, -1), // 39\n  new Wall(8, 16, \"x\", 8, 36, 2, -1, 0), // 40\n];\n\nexport default walls;","import './styles/index.scss';\nimport InputHandler from \"./scripts/input\";\nimport Game from \"./scripts/game\";\nimport Board from \"./scripts/board\";\nimport Marble from \"./scripts/marble\";\nimport walls from \"./scripts/walls\";\n\nlet canvas = document.getElementById(\"game-screen\");\nlet ctx = canvas.getContext(\"2d\");\n\nexport const CELL_SIZE = 36;\nexport const WALL_RADIUS = 2;\nexport const GAME_WIDTH = 22 * CELL_SIZE;\nexport const GAME_HEIGHT = 18 * CELL_SIZE;\n// const MARBLE_SIZE = 20;\nconst MARBLE_RADIUS = CELL_SIZE / 3;\n\nlet board = new Board(GAME_WIDTH, GAME_HEIGHT);\nlet marble = new Marble(MARBLE_RADIUS, GAME_WIDTH, GAME_HEIGHT);\nlet inputHandler = new InputHandler(marble);\nlet game = new Game(board, marble, walls);\n\nlet lastTime = 0;\n\nfunction gameLoop(timestamp) {\n  let deltaTime = timestamp - lastTime;\n  lastTime = timestamp;\n\n  inputHandler.handleInput(deltaTime);\n  ctx.clearRect(0, 0, GAME_WIDTH, GAME_HEIGHT);\n  game.update(deltaTime);\n  game.draw(ctx);\n\n  requestAnimationFrame(gameLoop);\n}\n\nrequestAnimationFrame(gameLoop);\n"],"sourceRoot":""}