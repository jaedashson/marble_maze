{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/scripts/input.js","webpack:///./src/scripts/game.js","webpack:///./src/scripts/board.js","webpack:///./src/scripts/wall.js","webpack:///./src/scripts/walls.js","webpack:///./src/scripts/marble.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","InputHandler","marble","this","keys","window","addEventListener","e","preventDefault","keyCode","type","deltaTime","tiltUp","tiltDown","tiltLeft","tiltRight","Game","board","walls","update","accX","accY","ctx","fillStyle","font","fillText","tiltX","tiltY","velX","velY","strokeStyle","beginPath","rect","stroke","drawStartFinish","draw","forEach","wall","drawHUD","Board","width","height","moveTo","lineTo","Wall","id","startXCell","startYCell","orientation","length","cellSize","wallRadius","modStart","modEnd","radius","topLeft","topRight","bottomLeft","bottomRight","wallWidth","wallHeight","center","calculateDimensions","calculateCenter","x","y","fillRect","arc","Math","PI","fill","Marble","maxTiltX","maxTiltY","posX","posY","grav","fricSCoeff","fricKCoeff","tiltMultiplier","bounciness","stopX","stopY","halfOfLongestWallLength","distRadius","sqrt","pow","collision","distanceMin","shiftX","shiftY","a","b","rad","cos","vel","deg","axis","dirFric","dirAcc","sign","degToRad","abs","acc","sin","fric","accNet","x1","y1","x2","y2","wallsToCheck","calculateDistance","push","detectCollision","distance","opp","adj","theta","intX","intY","atan","quadForm","calculateAcc","prevVelX","prevVelY","checkWallCollisions","checkBorderCollisions","checkFinish","alert","document","getElementById","getContext","CELL_SIZE","WALL_RADIUS","GAME_WIDTH","GAME_HEIGHT","MARBLE_RADIUS","inputHandler","game","lastTime","requestAnimationFrame","gameLoop","timestamp","handleInput","clearRect"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","export default class InputHandler {\n  constructor(marble) {\n    this.marble = marble;\n    this.keys;\n\n    window.addEventListener(\"keydown\", e => {\n      e.preventDefault();\n      this.keys = (this.keys || []);\n      this.keys[e.keyCode] = (e.type == \"keydown\");\n    })\n\n    window.addEventListener(\"keyup\", e => {\n      e.preventDefault();\n      this.keys[e.keyCode] = (e.type == \"keydown\");\n    })\n  }\n\n  handleInput(deltaTime) {\n    if (this.keys && this.keys[87]) { this.marble.tiltUp(deltaTime); }\n    if (this.keys && this.keys[83]) { this.marble.tiltDown(deltaTime); }\n    if (this.keys && this.keys[65]) { this.marble.tiltLeft(deltaTime); }\n    if (this.keys && this.keys[68]) { this.marble.tiltRight(deltaTime); }\n  }\n}","export default class Game {\n  constructor(board, marble, walls) {\n    this.board = board;\n    this.marble = marble;\n    this.walls = walls;\n  }\n  \n  update(deltaTime) {\n    this.marble.update(deltaTime, this.board.accX, this.board.accY);\n  }\n\n  drawHUD(ctx) {\n    ctx.fillStyle = \"blue\";\n    ctx.font = \"16px Arial\";\n    ctx.fillText(`tiltX=${this.marble.tiltX}`, 20, 26);\n    ctx.fillText(`tiltY=${this.marble.tiltY}`, 420, 26)\n    ctx.fillText(`accX=${this.marble.accX}`, 20, 56);\n    ctx.fillText(`accY=${this.marble.accY}`, 420, 56)\n    ctx.fillText(`velX=${this.marble.velX}`, 20, 86);\n    ctx.fillText(`velY=${this.marble.velY}`, 420, 86)\n  }\n\n  drawStartFinish(ctx) {\n    ctx.fillStyle = \"red\";\n    ctx.fillText(\"START\", 36 * 17 - 22, 16 * 36);\n\n    ctx.fillStyle = \"green\";\n    ctx.fillText(\"FINISH\", 21 * 36 - 22, 17 * 36 + 8);\n    \n    ctx.strokeStyle = \"green\";\n    ctx.beginPath();\n    ctx.rect(20 * 36, 16 * 36, 2 * 36, 2 * 36);\n    ctx.stroke();\n  }\n\n  draw(ctx) {\n    this.drawStartFinish(ctx);\n\n    this.board.draw(ctx);\n    this.marble.draw(ctx);\n    this.walls.forEach(wall => wall.draw(ctx));\n    this.drawHUD(ctx);\n  }\n}","export default class Board {\n  constructor(width, height) {\n    this.width = width;\n    this.height = height;\n  }\n\n  draw(ctx) {\n    ctx.strokeStyle = \"black\";\n    ctx.beginPath();\n    ctx.moveTo(0, 0);\n    ctx.lineTo(this.width, 0);\n    ctx.lineTo(this.width, this.height);\n    ctx.lineTo(0, this.height);\n    ctx.lineTo(0, 0);\n    ctx.stroke();\n  }\n}","import { CELL_SIZE, WALL_RADIUS } from \"../index\"; // Why don't these imports work?\n\n// modStart > 0 => extend the starting portion of the wall\n// modStart < 0 => shorten the starting portion of the wall\n// modEnd > 0 => extend the ending portion of the wall\n// modEnd < 0 => shorten the ending portion of the wall\n\nexport default class Wall {\n  constructor(id, startXCell, startYCell, orientation, length, cellSize, wallRadius, modStart, modEnd) {\n    // debugger // FIXME\n    this.id = id;\n    this.startXCell = startXCell;\n    this.startYCell = startYCell;\n    this.orientation = orientation;\n    this.length = length;\n    this.cellSize = 36; // Game size multiplier\n    this.radius = 2; // Half of wall thickness\n    this.modStart = modStart;\n    this.modEnd = modEnd;\n\n\n    // Calculate dimensions\n    this.topLeft;\n    this.topRight;\n    this.bottomLeft;\n    this.bottomRight;\n    this.wallWidth;\n    this.wallHeight;\n    this.center;\n    this.calculateDimensions();\n    this.calculateCenter();\n\n    // debugger\n  }\n\n  calculateCenter() {\n    // debugger\n    this.center = {\n      x: (this.topRight.x + this.topLeft.x) / 2,\n      y: (this.topLeft.y + this.bottomLeft.y) / 2\n    };\n    // debugger\n  }\n\n  calculateDimensions() {\n    // debugger\n    if (this.orientation === \"x\") {\n      this.topLeft = {\n        x: this.startXCell * this.cellSize,\n        y: this.startYCell * this.cellSize - this.radius\n      };\n      this.bottomLeft = {\n        x: this.startXCell * this.cellSize,\n        y: this.startYCell * this.cellSize + this.radius\n      };\n      \n      if (this.modStart < 0) {\n        this.topLeft.x += this.radius;\n        this.bottomLeft.x += this.radius;\n      } else if (this.modStart > 0) {\n        this.topLeft.x -= this.radius;\n        this.bottomLeft.x -= this.radius;\n      }\n\n      this.topRight = {\n        x: (this.startXCell + this.length) * this.cellSize,\n        y: this.startYCell * this.cellSize - this.radius\n      };\n      this.bottomRight = {\n        x: (this.startXCell + this.length) * this.cellSize,\n        y: this.startYCell * this.cellSize + this.radius\n      };\n\n      if (this.modEnd < 0) {\n        this.topRight.x -= this.radius;\n        this.bottomRight.x -= this.radius;\n      } else if (this.modEnd > 0) {\n        this.topRight.x += this.radius;\n        this.bottomRight.x += this.radius;\n      }\n\n    } else if (this.orientation === \"y\") {\n      this.topLeft = {\n        x: this.startXCell * this.cellSize - this.radius,\n        y: this.startYCell * this.cellSize\n      };\n      this.topRight = {\n        x: this.startXCell * this.cellSize + this.radius,\n        y: this.startYCell * this.cellSize\n      };\n\n      if (this.modStart < 0) {\n        this.topLeft.y += this.radius;\n        this.topRight.y += this.radius;\n      } else if (this.modStart > 0) {\n        this.topLeft.y -= this.radius;\n        this.topRight.y -= this.radius;\n      }\n\n      this.bottomLeft = {\n        x: this.startXCell * this.cellSize - this.radius,\n        y: (this.startYCell + this.length) * this.cellSize \n      };\n      this.bottomRight = {\n        x: this.startXCell * this.cellSize + this.radius,\n        y: (this.startYCell + this.length) * this.cellSize\n      };\n\n      if (this.modEnd < 0) {\n        this.bottomLeft.y -= this.radius;\n        this.bottomRight.y -= this.radius;\n      } else if (this.modEnd > 0) {\n        this.bottomLeft.y += this.radius;\n        this.bottomRight.y += this.radius;\n      }\n    }\n\n    // Calculate wallWidth and wallHeight\n    this.wallWidth = this.topRight.x - this.topLeft.x;\n    this.wallHeight = this.bottomLeft.y - this.topLeft.y;\n    // debugger\n  }\n\n  draw(ctx) {\n    // debugger\n    // Draw id label\n    ctx.fillStyle = \"blue\";\n    ctx.font = \"12 px Arial\";\n    ctx.fillText(`${this.id}`, this.center.x, this.center.y);\n    // debugger\n    // Draw wall\n    ctx.fillStyle = \"black\";\n    ctx.fillRect(this.topLeft.x, this.topLeft.y, this.topRight.x - this.topLeft.x, this.bottomLeft.y - this.topLeft.y); // FIXME - Refactor to include wallWidth and wallHeight\n    // debugger\n    // Draw center\n    ctx.fillStyle = \"red\";\n    ctx.beginPath();\n    ctx.arc(this.center.x, this.center.y, 2, 0, 2 * Math.PI);\n    ctx.fill(); \n  }\n}","import Wall from \"./wall\";\nimport { CELL_SIZE, WALL_RADIUS } from \"../index\"; // Why don't these imports work?\n\n// debugger // FIXME\nconst walls = [\n  new Wall(1, 18, 0, \"y\", 2, 36, 2, 0, 1), // 1\n  new Wall(2, 0, 2, \"x\", 2, 36, 2, 0, 0), // 2\n  new Wall(3, 10, 2, \"x\", 2, 36, 2, 0, 0), // 3\n  new Wall(4, 16, 2, \"x\", 2, 36, 2, 0, -1), // 4\n  new Wall(5, 6, 2, \"y\", 4, 36, 2, 0, -1), // 5\n  new Wall(6, 8, 2, \"y\", 2, 36, 2, 0, 0), // 6\n  new Wall(7, 20, 2, \"y\", 2, 36, 2, 0, 1), // 7\n  new Wall(8, 2, 4, \"x\", 2, 36, 2, 1, 0), // 8\n  new Wall(9, 10, 4, \"x\", 2, 36, 2, 0, 0), // 9\n  new Wall(10, 16, 4, \"x\", 4, 36, 2, 0, -1), // 10\n  new Wall(11, 2, 4, \"y\", 2, 36, 2, -1, 0), // 11\n  new Wall(12, 14, 4, \"y\", 2, 36, 2, 0, -1), // 12\n  new Wall(13, 4, 6, \"x\", 6, 36, 2, 0, 0), // 13\n  new Wall(14, 12, 6, \"x\", 4, 36, 2, 1, 1), // 14\n  new Wall(15, 20, 6, \"x\", 2, 36, 2, 0, 0), // 15\n  new Wall(16, 12, 6, \"y\", 2, 36, 2, -1, -1), // 16\n  new Wall(17, 16, 6, \"y\", 8, 36, 2, -1, -1), // 17\n  new Wall(18, 18, 6, \"y\", 2, 36, 2, 0, 0), // 18\n  new Wall(19, 0, 8, \"x\", 4, 36, 2, 0, 0), // 19\n  new Wall(20, 10, 8, \"x\", 4, 36, 2, 0, 0), // 20\n  new Wall(21, 6, 8, \"y\", 4, 36, 2, 0, -1), // 21\n  new Wall(22, 8, 8, \"y\", 2, 36, 2, 0, 0), // 22\n  new Wall(23, 20, 8, \"y\", 2, 36, 2, 0, 1), // 23\n  new Wall(24, 2, 10, \"x\", 2, 36, 2, 0, 0), // 24\n  new Wall(25, 16, 10, \"x\", 4, 36, 2, -1, -1), // 25\n  new Wall(26, 4, 12, \"x\", 4, 36, 2, 1, 1), // 26\n  new Wall(27, 12, 12, \"x\", 2, 36, 2, 1, 0), // 27\n  new Wall(28, 18, 12, \"x\", 2, 36, 2, 0, 1), // 28\n  new Wall(29, 2, 12, \"y\", 2, 36, 2, 0, 0), // 29\n  new Wall(30, 4, 12, \"y\", 4, 36, 2, -1, 1), // 30\n  new Wall(31, 8, 12, \"y\", 4, 36, 2, -1, 1), // 31\n  new Wall(32, 10, 12, \"y\", 2, 36, 2, 0, 0), // 32\n  new Wall(33, 12, 12, \"y\", 2, 36, 2, -1, 0), // 33\n  new Wall(34, 20, 12, \"y\", 2, 36, 2, -1, 1), // 34\n  new Wall(35, 14, 14, \"x\", 4, 36, 2, 0, 1), // 35\n  new Wall(36, 20, 14, \"x\", 2, 36, 2, -1, 0), // 36\n  new Wall(37, 6, 14, \"y\", 4, 36, 2, 0, 0), // 37\n  new Wall(38, 18, 14, \"y\", 4, 36, 2, -1, 0), // 38\n  new Wall(39, 2, 16, \"x\", 2, 36, 2, 0, -1), // 39\n  new Wall(40, 8, 16, \"x\", 8, 36, 2, -1, 0), // 40\n];\n\nexport default walls;","import walls from \"./walls\";\n\nexport default class Marble {\n  constructor(radius, width, height, walls) {\n    this.cellSize = 36; // Game size adjustment\n\n\n    this.radius = radius;\n    this.width = width;\n    this.height = height;\n    this.tiltX = 0;\n    this.tiltY = 0;\n    this.maxTiltX = 45;\n    this.maxTiltY = 45;\n    this.accX = 0;\n    this.accY = 0;\n    this.velX = 0;\n    this.velY = 0;\n    // this.maxSpeed = 10;\n    // this.minSpeed = -10;\n\n    // testing starting position\n    this.posX = 150;\n    this.posY = 152;\n    \n    // default starting position\n    // this.posX = this.cellSize * 17;\n    // this.posY = this.cellSize * 17;\n    \n    this.grav = 0.0025; // Adjust\n    this.fricSCoeff = 0.05; // Adjust\n    this.fricKCoeff = 0.05; // Adjust\n    this.tiltMultiplier = 0.03; // Adjust\n    this.bounciness = 0.1; // Adjust\n    this.stopX = false;\n    this.stopY = false;\n    this.walls = walls;\n\n    this.wallRadius = 2;\n    this.halfOfLongestWallLength = 4;\n\n    // The farthest a marble's center can be from a wall's center and still possibly collide (assuming longest wall is 8 cells long)\n    this.distRadius = Math.sqrt(Math.pow(this.wallRadius, 2) + Math.pow(this.halfOfLongestWallLength * this.cellSize + this.wallRadius, 2)) + this.radius;\n    \n    this.collision = null;\n    this.distanceMin = this.radius;\n    this.shiftX = 0;\n    this.shiftY = 0;\n    // debugger;\n  }\n\n  draw(ctx) {\n    ctx.fillStyle = \"orange\";\n    ctx.beginPath();\n    ctx.arc(this.posX, this.posY, this.radius, 0, 2 * Math.PI);\n    ctx.fill();\n\n    ctx.beginPath();\n    // debugger\n    ctx.arc(this.posX, this.posY, this.distRadius, 0, 2 * Math.PI);\n    ctx.stroke();\n\n  }\n\n  quadForm(a, b, c) {\n    debugger\n    let soln1 = null;\n    let soln2 = null;\n\n    soln1 = (-b - Math.sqrt( b*b - 4 * a * c )) / (2 * a);\n    soln2 = (-b + Math.sqrt( b*b - 4 * a * c )) / (2 * a);\n    debugger\n    return [soln1, soln2];\n  }\n\n  calculateFricS(rad) {\n    return this.fricSCoeff * this.grav * Math.cos(rad);\n  }\n\n  calculateFricK(rad, vel) {\n    return this.fricKCoeff * this.grav * Math.cos(rad);\n  }\n\n  degToRad(deg) {\n    return deg * (Math.PI / 180);\n  }\n\n  calculateAcc(deg, vel, axis) {\n    // console.log(\"calculating acceleration!\");\n    let dirAcc = Math.sign(deg);\n    let dirFric;\n    if (vel === 0) { // Is this correct?\n      dirFric = -1 * dirAcc;\n    } else {\n      dirFric = -1 * Math.sign(vel);\n    }\n\n    let rad = this.degToRad(Math.abs(deg));\n\n    let acc = dirAcc * this.grav * Math.sin(rad);\n    let fric = dirFric * this.fricKCoeff * this.grav * Math.cos(rad);\n    let accNet = acc + fric;\n\n    if (Math.abs(acc) <= Math.abs(fric) && Math.sign(accNet) !== Math.sign(vel)) {\n      if (axis === \"x\") this.stopX = true;\n      if (axis === \"y\") this.stopY = true;\n    } else {\n      if (axis === \"x\") this.stopX = false;\n      if (axis === \"y\") this.stopY = false;\n    }\n\n    return accNet;\n  }\n\n  calculateDistance(x1, y1, x2, y2) {\n    // debugger\n    const dist = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n    // debugger\n    return dist;\n  }\n\n  checkBorderCollisions() {\n    if (this.posX - this.radius < 0) {\n      this.collision = \"right\";\n      this.shiftX = 2 * (0 - (this.posX - this.radius));\n    } else if (this.posX + this.radius > this.width) {\n      this.collision = \"left\";\n      this.shiftX = -2 * ((this.posX + this.radius) - this.width);\n    }\n\n    if (this.posY - this.radius < 0) {\n      this.collision = \"bottom\";\n      this.shiftY = 2 * (0 - (this.posY - this.radius));\n    } else if (this.posY + this.radius > this.height) {\n      this.collision = \"top\";\n      this.shiftY = -2 * ((this.posY + this.radius) - this.height);\n    }\n  }\n\n  // Iterate through walls and check for collision\n  checkWallCollisions() {\n    // debugger\n\n    const wallsToCheck = [];\n\n    this.walls.forEach(wall => {\n      // debugger\n\n      if (this.calculateDistance(this.posX, this.posY, wall.center.x, wall.center.y) <= this.distRadius) {\n        // debugger\n        wallsToCheck.push(wall);\n      }\n    })\n\n    debugger\n\n    wallsToCheck.forEach(wall => {\n      this.detectCollision(wall);\n    })\n  }\n\n  detectCollision(wall) {\n    let distance = null; // DEBUG\n    let opp = null;\n    let adj = null;\n    let theta = null;\n    let intX = null;\n    let intY = null;\n    let shiftX = null;\n    let shiftY = null;\n\n    // detect top collision\n    if (\n      this.posY < wall.topLeft.y &&\n      wall.topLeft.x <= this.posX &&\n      this.posX <= wall.topRight.x\n    ) {\n      debugger\n      distance = wall.topLeft.y - this.posY;\n      debugger\n      if (\n        distance <= this.radius &&\n        distance < this.distanceMin\n      ) {\n        debugger\n        this.collision = \"top\";\n        this.distanceMin = distance;\n\n        // calculate shiftY\n        this.shiftY = 2 * (wall.topLeft.y - (this.posY + this.radius));\n        debugger\n      }\n    }\n\n    // detect bottom collision\n    if (\n      this.posY > wall.bottomLeft.y &&\n      wall.topLeft.x <= this.posX &&\n      this.posX <= wall.topRight.x\n    ) {\n      debugger\n      distance = this.posY - wall.bottomLeft.y;\n      debugger\n      if (\n        distance <= this.radius &&\n        distance < this.distanceMin\n      ) {\n        debugger\n        this.collision = \"bottom\";\n        this.distanceMin = distance;\n\n        // calculate shiftY\n        this.shiftY = 2 * (wall.bottomLeft.y - (this.posY - this.radius));\n        debugger\n      }\n    }\n\n    // detect left collision\n    if (\n      this.posX < wall.topLeft.x &&\n      wall.topLeft.y <= this.posY &&\n      this.posY <= wall.bottomLeft.y\n    ) {\n      debugger\n      distance = wall.topLeft.x - this.posX;\n      debugger\n      if (\n        distance <= this.radius &&\n        distance < this.distanceMin  \n      ) {\n        debugger\n        this.collision = \"left\";\n        this.distanceMin = distance;\n\n        // calculate shiftX\n        this.shiftX = 2 * (wall.topLeft.x - (this.posX + this.radius));\n        debugger\n      }\n    }\n\n    // detect right collision\n    if (\n      this.posX > wall.topRight.x &&\n      wall.topLeft.y <= this.posY &&\n      this.posY <= wall.bottomLeft.y\n    ) {\n      debugger\n      distance = this.posX - wall.topRight.x;\n      debugger\n      if (\n        distance <= this.radius &&\n        distance < this.distanceMin  \n      ) {\n        debugger\n        this.collision = \"right\";\n        this.distanceMin = distance;\n\n        // calculate shiftX\n        this.shiftX = 2 * (wall.topRight.x - (this.posX - this.radius));\n        debugger\n      }\n    }\n\n    // detect top-left collision\n    if (\n      this.posX < wall.topLeft.x &&\n      this.posY < wall.topLeft.y\n    ) {\n      debugger\n      distance = this.calculateDistance(this.posX, this.posY, wall.topLeft.x, wall.topLeft.y);\n      debugger\n      if (\n        distance <= this.radius &&\n        distance < this.distanceMin\n      ) {\n        debugger\n        opp = wall.topLeft.y - this.posY;\n        adj = wall.topLeft.x - this.posX;\n  \n        theta = Math.atan(opp / adj);\n        debugger\n\n        intX = this.quadForm(\n          1,\n          -2 * this.posX,\n          Math.pow(this.posX, 2) + Math.pow(wall.topLeft.y - this.posY, 2) - Math.pow(this.radius, 2)\n        );\n        intY = this.quadForm(\n          1,\n          -2 * this.posY,\n          Math.pow(this.posY, 2) + Math.pow(wall.topLeft.x - this.posX, 2) - Math.pow(this.radius, 2)\n        );\n        debugger\n        shiftX = -2 * (intX[1] - wall.topLeft.x);\n        shiftY = -2 * (intY[1] - wall.topLeft.y);\n        debugger\n        if (theta === Math.PI / 4) {\n          debugger\n          this.collision = \"top-left\";          \n          this.shiftX = shiftX;\n          this.shiftY = shiftY;\n        } else if (theta < Math.PI / 4) {\n          debugger\n          this.collision = \"left\";\n          this.shiftX = shiftX;\n        } else if (theta > Math.PI / 4) {\n          debugger\n          this.collision = \"top\";\n          this.shiftY = shiftY;\n        }\n\n        this.distanceMin = distance;\n      }\n    }\n\n    // detect top-right collision\n    if (\n      this.posX > wall.topRight.x &&\n      this.posY < wall.topRight.y\n    ) {\n      debugger\n      distance = this.calculateDistance(this.posX, this.posY, wall.topRight.x, wall.topRight.y);\n      debugger\n      if (\n        distance <= this.radius &&\n        distance < this.distanceMin\n      ) {\n        debugger\n        opp = wall.topRight.y - this.posY;\n        adj = this.posX - wall.topRight.x;\n  \n        theta = Math.atan(opp / adj);\n        debugger\n\n        intX = this.quadForm(\n          1,\n          -2 * this.posX,\n          Math.pow(this.posX, 2) + Math.pow(wall.topRight.y - this.posY, 2) - Math.pow(this.radius, 2)\n        );\n        intY = this.quadForm(\n          1,\n          -2 * this.posY,\n          Math.pow(this.posY, 2) + Math.pow(wall.topRight.x - this.posX, 2) - Math.pow(this.radius, 2)\n        );\n        debugger\n        shiftX = 2 * (wall.topRight.x - intX[0]);\n        shiftY = -2 * (intY[1] - wall.topRight.y);\n        debugger\n        if (theta === Math.PI / 4) {\n          debugger\n          this.collision = \"top-right\";\n          this.shiftX = shiftX;\n          this.shiftY = shiftY;\n        } else if (theta < Math.PI / 4) {\n          debugger\n          this.collision = \"right\";\n          this.shiftX = shiftX;\n        } else if (theta > Math.PI / 4) {\n          debugger\n          this.collision = \"top\";\n          this.shiftY = shiftY;\n        }\n\n        this.distanceMin = distance;\n      }\n    }\n\n    // detect bottom-left collision\n    if (\n      this.posX < wall.bottomLeft.x &&\n      this.posY > wall.bottomLeft.y\n    ) {\n      debugger\n      distance = this.calculateDistance(this.posX, this.posY, wall.bottomLeft.x, wall.bottomLeft.y);\n      debugger\n      if (\n        distance <= this.radius &&\n        distance < this.distanceMin\n      ) {\n        debugger\n        opp = this.posY - wall.bottomLeft.y;\n        adj = wall.bottomLeft.x - this.posX;\n  \n        theta = Math.atan(opp / adj);\n        debugger\n\n        intX = this.quadForm(\n          1,\n          -2 * this.posX,\n          Math.pow(this.posX, 2) + Math.pow(wall.bottomLeft.y - this.posY, 2) - Math.pow(this.radius, 2)\n        );\n        intY = this.quadForm(\n          1,\n          -2 * this.posY,\n          Math.pow(this.posY, 2) + Math.pow(wall.bottomLeft.x - this.posX, 2) - Math.pow(this.radius, 2)\n        );\n        debugger\n        shiftX = -2 * (intX[1] - wall.bottomLeft.x);\n        shiftY = 2 * (wall.bottomLeft.y - intY[0]);\n        debugger\n        if (theta === Math.PI / 4) {\n          debugger\n          this.collision = \"bottom-left\";\n          this.shiftX = shiftX;\n          this.shiftY = shiftY;\n        } else if (theta < Math.PI / 4) {\n          debugger\n          this.collision = \"left\";\n          this.shiftX = shiftX;\n        } else if (theta > Math.PI / 4) {\n          debugger\n          this.collision = \"bottom\";\n          this.shiftY = shiftY;\n        }\n\n        this.distanceMin = distance;\n      }\n    }\n\n    // detect bottom-right collision\n    if (\n      this.posX > wall.bottomRight.x &&\n      this.posY > wall.bottomRight.y\n    ) {\n      debugger\n      distance = this.calculateDistance(this.posX, this.posY, wall.bottomRight.x, wall.bottomRight.y);\n      debugger\n      if (\n        distance <= this.radius &&\n        distance < this.distanceMin\n      ) {\n        debugger\n        opp = this.posY - wall.bottomRight.y;\n        adj = this.posX - wall.bottomRight.x;\n  \n        theta = Math.atan(opp / adj);\n        debugger\n\n        intX = this.quadForm(\n          1,\n          -2 * this.posX,\n          Math.pow(this.posX, 2) + Math.pow(wall.bottomRight.y - this.posY, 2) - Math.pow(this.radius, 2)\n        );\n        intY = this.quadForm(\n          1,\n          -2 * this.posY,\n          Math.pow(this.posY, 2) + Math.pow(wall.bottomRight.x - this.posX, 2) - Math.pow(this.radius, 2)\n        );\n        debugger\n        shiftX = 2 * (wall.bottomRight.x - intX[0]);\n        shiftY = 2 * (wall.bottomRight.y - intY[0]);\n        debugger\n        if (theta === Math.PI / 4) {\n          debugger\n          this.collision = \"bottom-right\";\n          this.shiftX = shiftX;\n          this.shiftY = shiftY;\n        } else if (theta < Math.PI / 4) {\n          debugger\n          this.collision = \"right\";\n          this.shiftX = shiftX;\n        } else if (theta > Math.PI / 4) {\n          debugger\n          this.collision = \"bottom\";\n          this.shiftY = shiftY;\n        }\n\n        this.distanceMin = distance;\n      }\n    }\n  }\n\n  checkFinish() {\n    if (\n      this.posX >= 20 * this.cellSize &&\n      this.posY >= 16 * this.cellSize\n    ) {\n      return true;\n    }\n\n    return false;\n  }\n\n  update(deltaTime) {\n    // reset collision instance variables\n    this.collision = null;\n    this.distanceMin = this.radius;\n    this.shiftX = 0;\n    this.shiftY = 0;\n\n    // Update accelerations\n    this.accX = this.calculateAcc(this.tiltX, this.velX, \"x\"); // FIXME\n    this.accY = this.calculateAcc(this.tiltY, this.velY, \"y\"); // FIXME\n    \n    // Update velX\n    let prevVelX = this.velX;\n    this.velX += this.accX * deltaTime;\n    if (Math.sign(prevVelX) !== Math.sign(this.velX) && this.stopX) {\n      this.velX = 0;\n      this.accX = 0;\n    }\n    \n    // Update velY\n    let prevVelY = this.velY;\n    this.velY += this.accY * deltaTime;\n    if (Math.sign(prevVelY) !== Math.sign(this.velY) && this.stopY) {\n      this.velY = 0;\n      this.accY = 0;\n    }\n    \n    // Update posX\n    this.posX += this.velX * deltaTime;\n    if (this.posX - this.radius < 0) {\n      this.posX = this.radius;\n      this.velX = 0;\n    } else if (this.posX + this.radius > this.width) {\n      this.posX = this.width - this.radius;\n      this.velX = 0;\n    }\n    \n    // Update posY\n    this.posY += this.velY * deltaTime;\n    if (this.posY - this.radius < 0) {\n      this.posY = this.radius;\n      this.velY = 0;\n    } else if (this.posY + this.radius > this.height) {\n      this.posY = this.height - this.radius;\n      this.velY = 0;\n    }\n\n    this.checkWallCollisions();\n    this.checkBorderCollisions();\n\n    if (this.collision) {\n      // correct position\n      this.posX += this.shiftX;\n      this.posY += this.shiftY;\n\n      // correct velocity\n      if (\n        this.collision === \"top-left\" ||\n        this.collision === \"top-right\" ||\n        this.collision === \"bottom-left\" ||\n        this.collision === \"bottom-right\"\n      ) {\n        this.velX *= (-1 * this.bounciness);\n        this.velY *= (-1 * this.bounciness);\n      }\n      if (this.collision === \"top\" || this.collision === \"bottom\") {\n        this.velX *= this.bounciness;\n        this.velY *= (-1 * this.bounciness);\n      }\n      if (this.collision === \"left\" || this.collision === \"right\") {\n        this.velX *= (-1 * this.bounciness);\n        this.velY *= this.bounciness;\n      }\n\n    }\n    debugger\n\n    if (this.checkFinish()) {\n      alert(\"YOU'RE WINNER\");\n    }\n  }\n\n  tiltUp(deltaTime) {\n    this.tiltY -= deltaTime * this.tiltMultiplier;\n    if (this.tiltY < -1 * this.maxTiltY) this.tiltY = -1 * this.maxTiltY;\n  }\n\n  tiltDown(deltaTime) {\n    this.tiltY += deltaTime * this.tiltMultiplier;\n    if (this.tiltY > this.maxTiltY) this.tiltY = this.maxTiltY;\n  }\n\n  tiltLeft(deltaTime) {\n    this.tiltX -= deltaTime * this.tiltMultiplier;\n    if (this.tiltX < -1 * this.maxTiltX) this.tiltX = -1 * this.maxTiltX;\n  }\n\n  tiltRight(deltaTime) {\n    this.tiltX += deltaTime * this.tiltMultiplier;\n    if (this.tiltX > this.maxTiltX) this.tiltX = this.maxTiltX;\n  }\n}","import './styles/index.scss';\nimport InputHandler from \"./scripts/input\";\nimport Game from \"./scripts/game\";\nimport Board from \"./scripts/board\";\nimport Marble from \"./scripts/marble\";\nimport walls from \"./scripts/walls\";\n\nlet canvas = document.getElementById(\"game-screen\");\nlet ctx = canvas.getContext(\"2d\");\n\nexport const CELL_SIZE = 36; // Game size multiplier\nexport const WALL_RADIUS = 2;\nexport const GAME_WIDTH = 22 * CELL_SIZE;\nexport const GAME_HEIGHT = 18 * CELL_SIZE;\n// const MARBLE_SIZE = 20;\nconst MARBLE_RADIUS = CELL_SIZE / 3;\n\nlet board = new Board(GAME_WIDTH, GAME_HEIGHT);\nlet marble = new Marble(MARBLE_RADIUS, GAME_WIDTH, GAME_HEIGHT, walls);\nlet inputHandler = new InputHandler(marble);\nlet game = new Game(board, marble, walls);\n\nlet lastTime = 0;\n\nfunction gameLoop(timestamp) {\n  let deltaTime = timestamp - lastTime;\n  lastTime = timestamp;\n\n  inputHandler.handleInput(deltaTime);\n  ctx.clearRect(0, 0, GAME_WIDTH, GAME_HEIGHT);\n  game.update(deltaTime);\n  game.draw(ctx);\n\n  requestAnimationFrame(gameLoop);\n}\n\nrequestAnimationFrame(gameLoop);\n"],"sourceRoot":""}