{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/scripts/input.js","webpack:///./src/scripts/game.js","webpack:///./src/scripts/board.js","webpack:///./src/scripts/wall.js","webpack:///./src/scripts/walls.js","webpack:///./src/scripts/marble.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","InputHandler","marble","this","keys","window","addEventListener","e","preventDefault","keyCode","type","deltaTime","tiltUp","tiltDown","tiltLeft","tiltRight","Game","board","walls","update","accX","accY","ctx","fillStyle","font","fillText","tiltX","tiltY","velX","velY","draw","forEach","wall","drawHUD","Board","width","height","strokeStyle","beginPath","moveTo","lineTo","stroke","Wall","id","startXCell","startYCell","orientation","length","cellSize","wallRadius","modStart","modEnd","radius","topLeft","topRight","bottomLeft","bottomRight","wallWidth","wallHeight","center","calculateDimensions","calculateCenter","x","y","fillRect","arc","Math","PI","fill","Marble","maxTiltX","maxTiltY","posX","posY","grav","fricSCoeff","fricKCoeff","tiltMultiplier","bounciness","stopX","stopY","halfOfLongestWallLength","distRadius","sqrt","pow","collision","distanceMin","shiftX","shiftY","a","b","rad","cos","vel","deg","axis","dirFric","dirAcc","sign","degToRad","abs","acc","sin","fric","accNet","x1","y1","x2","y2","wallsToCheck","calculateDistance","push","detectCollision","distance","opp","adj","theta","intX","intY","atan","quadForm","calculateAcc","prevVelX","prevVelY","checkWallCollisions","checkBorderCollisions","document","getElementById","getContext","CELL_SIZE","WALL_RADIUS","GAME_WIDTH","GAME_HEIGHT","MARBLE_RADIUS","inputHandler","game","lastTime","requestAnimationFrame","gameLoop","timestamp","handleInput","clearRect"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","export default class InputHandler {\n  constructor(marble) {\n    this.marble = marble;\n    this.keys;\n\n    window.addEventListener(\"keydown\", e => {\n      e.preventDefault();\n      this.keys = (this.keys || []);\n      this.keys[e.keyCode] = (e.type == \"keydown\");\n    })\n\n    window.addEventListener(\"keyup\", e => {\n      e.preventDefault();\n      this.keys[e.keyCode] = (e.type == \"keydown\");\n    })\n  }\n\n  handleInput(deltaTime) {\n    if (this.keys && this.keys[87]) { this.marble.tiltUp(deltaTime); }\n    if (this.keys && this.keys[83]) { this.marble.tiltDown(deltaTime); }\n    if (this.keys && this.keys[65]) { this.marble.tiltLeft(deltaTime); }\n    if (this.keys && this.keys[68]) { this.marble.tiltRight(deltaTime); }\n  }\n}","export default class Game {\n  constructor(board, marble, walls) {\n    this.board = board;\n    this.marble = marble;\n    this.walls = walls;\n  }\n  \n  update(deltaTime) {\n    // this.board.update(deltaTime);\n    this.marble.update(deltaTime, this.board.accX, this.board.accY);\n  }\n\n  drawHUD(ctx) {\n    ctx.fillStyle = \"blue\";\n    ctx.font = \"16px Arial\";\n    ctx.fillText(`tiltX=${this.marble.tiltX}`, 20, 26);\n    ctx.fillText(`tiltY=${this.marble.tiltY}`, 420, 26)\n    ctx.fillText(`accX=${this.marble.accX}`, 20, 56);\n    ctx.fillText(`accY=${this.marble.accY}`, 420, 56)\n    ctx.fillText(`velX=${this.marble.velX}`, 20, 86);\n    ctx.fillText(`velY=${this.marble.velY}`, 420, 86)\n  }\n\n  draw(ctx) {\n    this.board.draw(ctx);\n    this.marble.draw(ctx);\n    this.walls.forEach(wall => wall.draw(ctx));\n    this.drawHUD(ctx);\n  }\n}","export default class Board {\n  constructor(width, height) {\n    this.width = width;\n    this.height = height;\n  }\n\n  draw(ctx) {\n    ctx.strokeStyle = \"black\";\n    ctx.beginPath();\n    ctx.moveTo(0, 0);\n    ctx.lineTo(this.width, 0);\n    ctx.lineTo(this.width, this.height);\n    ctx.lineTo(0, this.height);\n    ctx.lineTo(0, 0);\n    ctx.stroke();\n  }\n}","import { CELL_SIZE, WALL_RADIUS } from \"../index\"; // Why don't these imports work?\n\n// modStart > 0 => extend the starting portion of the wall\n// modStart < 0 => shorten the starting portion of the wall\n// modEnd > 0 => extend the ending portion of the wall\n// modEnd < 0 => shorten the ending portion of the wall\n\nexport default class Wall {\n  constructor(id, startXCell, startYCell, orientation, length, cellSize, wallRadius, modStart, modEnd) {\n    // debugger // FIXME\n    this.id = id;\n    this.startXCell = startXCell;\n    this.startYCell = startYCell;\n    this.orientation = orientation;\n    this.length = length;\n    this.cellSize = 36; // Game size multiplier\n    this.radius = 2; // Half of wall thickness\n    this.modStart = modStart;\n    this.modEnd = modEnd;\n\n\n    // Calculate dimensions\n    this.topLeft;\n    this.topRight;\n    this.bottomLeft;\n    this.bottomRight;\n    this.wallWidth;\n    this.wallHeight;\n    this.center;\n    this.calculateDimensions();\n    this.calculateCenter();\n\n    // debugger\n  }\n\n  calculateCenter() {\n    // debugger\n    this.center = {\n      x: (this.topRight.x + this.topLeft.x) / 2,\n      y: (this.topLeft.y + this.bottomLeft.y) / 2\n    };\n    // debugger\n  }\n\n  calculateDimensions() {\n    // debugger\n    if (this.orientation === \"x\") {\n      this.topLeft = {\n        x: this.startXCell * this.cellSize,\n        y: this.startYCell * this.cellSize - this.radius\n      };\n      this.bottomLeft = {\n        x: this.startXCell * this.cellSize,\n        y: this.startYCell * this.cellSize + this.radius\n      };\n      \n      if (this.modStart < 0) {\n        this.topLeft.x += this.radius;\n        this.bottomLeft.x += this.radius;\n      } else if (this.modStart > 0) {\n        this.topLeft.x -= this.radius;\n        this.bottomLeft.x -= this.radius;\n      }\n\n      this.topRight = {\n        x: (this.startXCell + this.length) * this.cellSize,\n        y: this.startYCell * this.cellSize - this.radius\n      };\n      this.bottomRight = {\n        x: (this.startXCell + this.length) * this.cellSize,\n        y: this.startYCell * this.cellSize + this.radius\n      };\n\n      if (this.modEnd < 0) {\n        this.topRight.x -= this.radius;\n        this.bottomRight.x -= this.radius;\n      } else if (this.modEnd > 0) {\n        this.topRight.x += this.radius;\n        this.bottomRight.x += this.radius;\n      }\n\n    } else if (this.orientation === \"y\") {\n      this.topLeft = {\n        x: this.startXCell * this.cellSize - this.radius,\n        y: this.startYCell * this.cellSize\n      };\n      this.topRight = {\n        x: this.startXCell * this.cellSize + this.radius,\n        y: this.startYCell * this.cellSize\n      };\n\n      if (this.modStart < 0) {\n        this.topLeft.y += this.radius;\n        this.topRight.y += this.radius;\n      } else if (this.modStart > 0) {\n        this.topLeft.y -= this.radius;\n        this.topRight.y -= this.radius;\n      }\n\n      this.bottomLeft = {\n        x: this.startXCell * this.cellSize - this.radius,\n        y: (this.startYCell + this.length) * this.cellSize \n      };\n      this.bottomRight = {\n        x: this.startXCell * this.cellSize + this.radius,\n        y: (this.startYCell + this.length) * this.cellSize\n      };\n\n      if (this.modEnd < 0) {\n        this.bottomLeft.y -= this.radius;\n        this.bottomRight.y -= this.radius;\n      } else if (this.modEnd > 0) {\n        this.bottomLeft.y += this.radius;\n        this.bottomRight.y += this.radius;\n      }\n    }\n\n    // Calculate wallWidth and wallHeight\n    this.wallWidth = this.topRight.x - this.topLeft.x;\n    this.wallHeight = this.bottomLeft.y - this.topLeft.y;\n    // debugger\n  }\n\n  draw(ctx) {\n    // debugger\n    // Draw id label\n    ctx.fillStyle = \"blue\";\n    ctx.font = \"12 px Arial\";\n    ctx.fillText(`${this.id} YO`, this.center.x, this.center.y);\n    // debugger\n    // Draw wall\n    ctx.fillStyle = \"black\";\n    ctx.fillRect(this.topLeft.x, this.topLeft.y, this.topRight.x - this.topLeft.x, this.bottomLeft.y - this.topLeft.y); // FIXME - Refactor to include wallWidth and wallHeight\n    // debugger\n    // Draw center\n    ctx.fillStyle = \"red\";\n    ctx.beginPath();\n    ctx.arc(this.center.x, this.center.y, 2, 0, 2 * Math.PI);\n    ctx.fill(); \n  }\n}","import Wall from \"./wall\";\nimport { CELL_SIZE, WALL_RADIUS } from \"../index\"; // Why don't these imports work?\n\n// debugger // FIXME\nconst walls = [\n  new Wall(1, 18, 0, \"y\", 2, 36, 2, 0, 1), // 1\n  new Wall(2, 0, 2, \"x\", 2, 36, 2, 0, 0), // 2\n  new Wall(3, 10, 2, \"x\", 2, 36, 2, 0, 0), // 3\n  new Wall(4, 16, 2, \"x\", 2, 36, 2, 0, -1), // 4\n  new Wall(5, 6, 2, \"y\", 4, 36, 2, 0, -1), // 5\n  new Wall(6, 8, 2, \"y\", 2, 36, 2, 0, 0), // 6\n  new Wall(7, 20, 2, \"y\", 2, 36, 2, 0, 1), // 7\n  new Wall(8, 2, 4, \"x\", 2, 36, 2, 1, 0), // 8\n  new Wall(9, 10, 4, \"x\", 2, 36, 2, 0, 0), // 9\n  new Wall(10, 16, 4, \"x\", 4, 36, 2, 0, -1), // 10\n  new Wall(11, 2, 4, \"y\", 2, 36, 2, -1, 0), // 11\n  new Wall(12, 14, 4, \"y\", 2, 36, 2, 0, -1), // 12\n  new Wall(13, 4, 6, \"x\", 6, 36, 2, 0, 0), // 13\n  new Wall(14, 12, 6, \"x\", 4, 36, 2, 1, 1), // 14\n  new Wall(15, 20, 6, \"x\", 2, 36, 2, 0, 0), // 15\n  new Wall(16, 12, 6, \"y\", 2, 36, 2, -1, -1), // 16\n  new Wall(17, 16, 6, \"y\", 8, 36, 2, -1, -1), // 17\n  new Wall(18, 18, 6, \"y\", 2, 36, 2, 0, 0), // 18\n  new Wall(19, 0, 8, \"x\", 4, 36, 2, 0, 0), // 19\n  new Wall(20, 10, 8, \"x\", 4, 36, 2, 0, 0), // 20\n  new Wall(21, 6, 8, \"y\", 4, 36, 2, 0, -1), // 21\n  new Wall(22, 8, 8, \"y\", 2, 36, 2, 0, 0), // 22\n  new Wall(23, 20, 8, \"y\", 2, 36, 2, 0, 1), // 23\n  new Wall(24, 2, 10, \"x\", 2, 36, 2, 0, 0), // 24\n  new Wall(25, 16, 10, \"x\", 4, 36, 2, -1, -1), // 25\n  new Wall(26, 4, 12, \"x\", 4, 36, 2, 1, 1), // 26\n  new Wall(27, 12, 12, \"x\", 2, 36, 2, 1, 0), // 27\n  new Wall(28, 18, 12, \"x\", 2, 36, 2, 0, 1), // 28\n  new Wall(29, 2, 12, \"y\", 2, 36, 2, 0, 0), // 29\n  new Wall(30, 4, 12, \"y\", 4, 36, 2, -1, 1), // 30\n  new Wall(31, 8, 12, \"y\", 4, 36, 2, -1, 1), // 31\n  new Wall(32, 10, 12, \"y\", 2, 36, 2, 0, 0), // 32\n  new Wall(33, 12, 12, \"y\", 2, 36, 2, -1, 0), // 33\n  new Wall(34, 20, 12, \"y\", 2, 36, 2, -1, 1), // 34\n  new Wall(35, 14, 14, \"x\", 4, 36, 2, 0, 1), // 35\n  new Wall(36, 20, 14, \"x\", 2, 36, 2, -1, 0), // 36\n  new Wall(37, 6, 14, \"y\", 4, 36, 2, 0, 0), // 37\n  new Wall(38, 18, 14, \"y\", 4, 36, 2, -1, 0), // 38\n  new Wall(39, 2, 16, \"x\", 2, 36, 2, 0, -1), // 39\n  new Wall(40, 8, 16, \"x\", 8, 36, 2, -1, 0), // 40\n];\n\nexport default walls;","import walls from \"./walls\";\n\nexport default class Marble {\n  constructor(radius, width, height, walls) {\n    this.cellSize = 36; // Game size adjustment\n\n\n    this.radius = radius;\n    this.width = width;\n    this.height = height;\n    this.tiltX = 0;\n    this.tiltY = 0;\n    this.maxTiltX = 45;\n    this.maxTiltY = 45;\n    this.accX = 0;\n    this.accY = 0;\n    this.velX = 0;\n    this.velY = 0;\n    // this.maxSpeed = 10;\n    // this.minSpeed = -10;\n\n    // testing starting position\n    this.posX = 150;\n    this.posY = 152;\n    \n    // default starting position\n    // this.posX = this.cellSize * 17;\n    // this.posY = this.cellSize * 17;\n    \n    this.grav = 0.0025; // Adjust\n    this.fricSCoeff = 0.05; // Adjust\n    this.fricKCoeff = 0.05; // Adjust\n    this.tiltMultiplier = 0.03; // Adjust\n    this.bounciness = 0.1; // Adjust\n    this.stopX = false;\n    this.stopY = false;\n    this.walls = walls;\n\n    this.wallRadius = 2;\n    this.halfOfLongestWallLength = 4;\n\n    // The farthest a marble's center can be from a wall's center and still possibly collide (assuming longest wall is 8 cells long)\n    this.distRadius = Math.sqrt(Math.pow(this.wallRadius, 2) + Math.pow(this.halfOfLongestWallLength * this.cellSize + this.wallRadius, 2)) + this.radius;\n    \n    this.collision = null;\n    this.distanceMin = this.radius;\n    this.shiftX = 0;\n    this.shiftY = 0;\n    // debugger;\n  }\n\n  draw(ctx) {\n    ctx.fillStyle = \"orange\";\n    ctx.beginPath();\n    ctx.arc(this.posX, this.posY, this.radius, 0, 2 * Math.PI);\n    ctx.fill();\n\n    ctx.beginPath();\n    // debugger\n    ctx.arc(this.posX, this.posY, this.distRadius, 0, 2 * Math.PI);\n    ctx.stroke();\n\n  }\n\n  quadForm(a, b, c) {\n    debugger\n    let soln1 = null;\n    let soln2 = null;\n\n    soln1 = (-b - Math.sqrt( b*b - 4 * a * c )) / (2 * a);\n    soln2 = (-b + Math.sqrt( b*b - 4 * a * c )) / (2 * a);\n    debugger\n    return [soln1, soln2];\n  }\n\n  calculateFricS(rad) {\n    return this.fricSCoeff * this.grav * Math.cos(rad);\n  }\n\n  calculateFricK(rad, vel) {\n    return this.fricKCoeff * this.grav * Math.cos(rad);\n  }\n\n  degToRad(deg) {\n    return deg * (Math.PI / 180);\n  }\n\n  calculateAcc(deg, vel, axis) {\n    // console.log(\"calculating acceleration!\");\n    let dirAcc = Math.sign(deg);\n    let dirFric;\n    if (vel === 0) { // Is this correct?\n      dirFric = -1 * dirAcc;\n    } else {\n      dirFric = -1 * Math.sign(vel);\n    }\n\n    let rad = this.degToRad(Math.abs(deg));\n\n    let acc = dirAcc * this.grav * Math.sin(rad);\n    let fric = dirFric * this.fricKCoeff * this.grav * Math.cos(rad);\n    let accNet = acc + fric;\n\n    if (Math.abs(acc) <= Math.abs(fric) && Math.sign(accNet) !== Math.sign(vel)) {\n      if (axis === \"x\") this.stopX = true;\n      if (axis === \"y\") this.stopY = true;\n    } else {\n      if (axis === \"x\") this.stopX = false;\n      if (axis === \"y\") this.stopY = false;\n    }\n\n    return accNet;\n  }\n\n  calculateDistance(x1, y1, x2, y2) {\n    // debugger\n    const dist = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n    // debugger\n    return dist;\n  }\n\n  checkBorderCollisions() {\n    if (this.posX - this.radius < 0) {\n      this.collision = \"right\";\n      this.shiftX = 2 * (0 - (this.posX - this.radius));\n    } else if (this.posX + this.radius > this.width) {\n      this.collision = \"left\";\n      this.shiftX = -2 * ((this.posX + this.radius) - this.width);\n    }\n\n    if (this.posY - this.radius < 0) {\n      this.collision = \"bottom\";\n      this.shiftY = 2 * (0 - (this.posY - this.radius));\n    } else if (this.posY + this.radius > this.height) {\n      this.collision = \"top\";\n      this.shiftY = -2 * ((this.posY + this.radius) - this.height);\n    }\n  }\n\n  // Iterate through walls and check for collision\n  checkWallCollisions() {\n    // debugger\n\n\n\n    const wallsToCheck = [];\n\n    this.walls.forEach(wall => {\n      // debugger\n\n      if (this.calculateDistance(this.posX, this.posY, wall.center.x, wall.center.y) <= this.distRadius) {\n        // debugger\n        wallsToCheck.push(wall);\n      }\n    })\n\n    debugger\n\n    wallsToCheck.forEach(wall => {\n      this.detectCollision(wall);\n    })\n  }\n\n  detectCollision(wall) {\n    let distance = null; // DEBUG\n    let opp = null;\n    let adj = null;\n    let theta = null;\n    let intX = null;\n    let intY = null;\n    let shiftX = null;\n    let shiftY = null;\n\n    // detect top collision\n    if (\n      this.posY < wall.topLeft.y &&\n      wall.topLeft.x <= this.posX &&\n      this.posX <= wall.topRight.x\n    ) {\n      debugger\n      distance = wall.topLeft.y - this.posY;\n      debugger\n      if (\n        distance <= this.radius &&\n        distance < this.distanceMin\n      ) {\n        debugger\n        this.collision = \"top\";\n        this.distanceMin = distance;\n\n        // calculate shiftY\n        this.shiftY = 2 * (wall.topLeft.y - (this.posY + this.radius));\n        debugger\n      }\n    }\n\n    // detect bottom collision\n    if (\n      this.posY > wall.bottomLeft.y &&\n      wall.topLeft.x <= this.posX &&\n      this.posX <= wall.topRight.x\n    ) {\n      debugger\n      distance = this.posY - wall.bottomLeft.y;\n      debugger\n      if (\n        distance <= this.radius &&\n        distance < this.distanceMin\n      ) {\n        debugger\n        this.collision = \"bottom\";\n        this.distanceMin = distance;\n\n        // calculate shiftY\n        this.shiftY = 2 * (wall.bottomLeft.y - (this.posY - this.radius));\n        debugger\n      }\n    }\n\n    // detect left collision\n    if (\n      this.posX < wall.topLeft.x &&\n      wall.topLeft.y <= this.posY &&\n      this.posY <= wall.bottomLeft.y\n    ) {\n      debugger\n      distance = wall.topLeft.x - this.posX;\n      debugger\n      if (\n        distance <= this.radius &&\n        distance < this.distanceMin  \n      ) {\n        debugger\n        this.collision = \"left\";\n        this.distanceMin = distance;\n\n        // calculate shiftX\n        this.shiftX = 2 * (wall.topLeft.x - (this.posX + this.radius));\n        debugger\n      }\n    }\n\n    // detect right collision\n    if (\n      this.posX > wall.topRight.x &&\n      wall.topLeft.y <= this.posY &&\n      this.posY <= wall.bottomLeft.y\n    ) {\n      debugger\n      distance = this.posX - wall.topRight.x;\n      debugger\n      if (\n        distance <= this.radius &&\n        distance < this.distanceMin  \n      ) {\n        debugger\n        this.collision = \"right\";\n        this.distanceMin = distance;\n\n        // calculate shiftX\n        this.shiftX = 2 * (wall.topRight.x - (this.posX - this.radius));\n        debugger\n      }\n    }\n\n    // detect top-left collision\n    if (\n      this.posX < wall.topLeft.x &&\n      this.posY < wall.topLeft.y\n    ) {\n      debugger\n      distance = this.calculateDistance(this.posX, this.posY, wall.topLeft.x, wall.topLeft.y);\n      debugger\n      if (\n        distance <= this.radius &&\n        distance < this.distanceMin\n      ) {\n        debugger\n        opp = wall.topLeft.y - this.posY;\n        adj = wall.topLeft.x - this.posX;\n  \n        theta = Math.atan(opp / adj);\n        debugger\n\n        intX = this.quadForm(\n          1,\n          -2 * this.posX,\n          Math.pow(this.posX, 2) + Math.pow(wall.topLeft.y - this.posY, 2) - Math.pow(this.radius, 2)\n        );\n        intY = this.quadForm(\n          1,\n          -2 * this.posY,\n          Math.pow(this.posY, 2) + Math.pow(wall.topLeft.x - this.posX, 2) - Math.pow(this.radius, 2)\n        );\n        debugger\n        shiftX = -2 * (intX[1] - wall.topLeft.x);\n        shiftY = -2 * (intY[1] - wall.topLeft.y);\n        debugger\n        if (theta === Math.PI / 4) {\n          debugger\n          this.collision = \"top-left\";          \n          this.shiftX = shiftX;\n          this.shiftY = shiftY;\n        } else if (theta < Math.PI / 4) {\n          debugger\n          this.collision = \"left\";\n          this.shiftX = shiftX;\n        } else if (theta > Math.PI / 4) {\n          debugger\n          this.collision = \"top\";\n          this.shiftY = shiftY;\n        }\n\n        this.distanceMin = distance;\n      }\n    }\n\n    // detect top-right collision\n    if (\n      this.posX > wall.topRight.x &&\n      this.posY < wall.topRight.y\n    ) {\n      debugger\n      distance = this.calculateDistance(this.posX, this.posY, wall.topRight.x, wall.topRight.y);\n      debugger\n      if (\n        distance <= this.radius &&\n        distance < this.distanceMin\n      ) {\n        debugger\n        opp = wall.topRight.y - this.posY;\n        adj = this.posX - wall.topRight.x;\n  \n        theta = Math.atan(opp / adj);\n        debugger\n\n        intX = this.quadForm(\n          1,\n          -2 * this.posX,\n          Math.pow(this.posX, 2) + Math.pow(wall.topRight.y - this.posY, 2) - Math.pow(this.radius, 2)\n        );\n        intY = this.quadForm(\n          1,\n          -2 * this.posY,\n          Math.pow(this.posY, 2) + Math.pow(wall.topRight.x - this.posX, 2) - Math.pow(this.radius, 2)\n        );\n        debugger\n        shiftX = 2 * (wall.topRight.x - intX[0]);\n        shiftY = -2 * (intY[1] - wall.topRight.y);\n        debugger\n        if (theta === Math.PI / 4) {\n          debugger\n          this.collision = \"top-right\";\n          this.shiftX = shiftX;\n          this.shiftY = shiftY;\n        } else if (theta < Math.PI / 4) {\n          debugger\n          this.collision = \"right\";\n          this.shiftX = shiftX;\n        } else if (theta > Math.PI / 4) {\n          debugger\n          this.collision = \"top\";\n          this.shiftY = shiftY;\n        }\n\n        this.distanceMin = distance;\n      }\n    }\n\n    // detect bottom-left collision\n    if (\n      this.posX < wall.bottomLeft.x &&\n      this.posY > wall.bottomLeft.y\n    ) {\n      debugger\n      distance = this.calculateDistance(this.posX, this.posY, wall.bottomLeft.x, wall.bottomLeft.y);\n      debugger\n      if (\n        distance <= this.radius &&\n        distance < this.distanceMin\n      ) {\n        debugger\n        opp = this.posY - wall.bottomLeft.y;\n        adj = wall.bottomLeft.x - this.posX;\n  \n        theta = Math.atan(opp / adj);\n        debugger\n\n        intX = this.quadForm(\n          1,\n          -2 * this.posX,\n          Math.pow(this.posX, 2) + Math.pow(wall.bottomLeft.y - this.posY, 2) - Math.pow(this.radius, 2)\n        );\n        intY = this.quadForm(\n          1,\n          -2 * this.posY,\n          Math.pow(this.posY, 2) + Math.pow(wall.bottomLeft.x - this.posX, 2) - Math.pow(this.radius, 2)\n        );\n        debugger\n        shiftX = -2 * (intX[1] - wall.bottomLeft.x);\n        shiftY = 2 * (wall.bottomLeft.y - intY[0]);\n        debugger\n        if (theta === Math.PI / 4) {\n          debugger\n          this.collision = \"bottom-left\";\n          this.shiftX = shiftX;\n          this.shiftY = shiftY;\n        } else if (theta < Math.PI / 4) {\n          debugger\n          this.collision = \"left\";\n          this.shiftX = shiftX;\n        } else if (theta > Math.PI / 4) {\n          debugger\n          this.collision = \"bottom\";\n          this.shiftY = shiftY;\n        }\n\n        this.distanceMin = distance;\n      }\n    }\n\n    // detect bottom-right collision\n    if (\n      this.posX > wall.bottomRight.x &&\n      this.posY > wall.bottomRight.y\n    ) {\n      debugger\n      distance = this.calculateDistance(this.posX, this.posY, wall.bottomRight.x, wall.bottomRight.y);\n      debugger\n      if (\n        distance <= this.radius &&\n        distance < this.distanceMin\n      ) {\n        debugger\n        opp = this.posY - wall.bottomRight.y;\n        adj = this.posX - wall.bottomRight.x;\n  \n        theta = Math.atan(opp / adj);\n        debugger\n\n        intX = this.quadForm(\n          1,\n          -2 * this.posX,\n          Math.pow(this.posX, 2) + Math.pow(wall.bottomRight.y - this.posY, 2) - Math.pow(this.radius, 2)\n        );\n        intY = this.quadForm(\n          1,\n          -2 * this.posY,\n          Math.pow(this.posY, 2) + Math.pow(wall.bottomRight.x - this.posX, 2) - Math.pow(this.radius, 2)\n        );\n        debugger\n        shiftX = 2 * (wall.bottomRight.x - intX[0]);\n        shiftY = 2 * (wall.bottomRight.y - intY[0]);\n        debugger\n        if (theta === Math.PI / 4) {\n          debugger\n          this.collision = \"bottom-right\";\n          this.shiftX = shiftX;\n          this.shiftY = shiftY;\n        } else if (theta < Math.PI / 4) {\n          debugger\n          this.collision = \"right\";\n          this.shiftX = shiftX;\n        } else if (theta > Math.PI / 4) {\n          debugger\n          this.collision = \"bottom\";\n          this.shiftY = shiftY;\n        }\n\n        this.distanceMin = distance;\n      }\n    }\n  }\n\n  update(deltaTime) {\n    // reset collision instance variables\n    this.collision = null;\n    this.distanceMin = this.radius;\n    this.shiftX = 0;\n    this.shiftY = 0;\n\n    // Update accelerations\n    this.accX = this.calculateAcc(this.tiltX, this.velX, \"x\"); // FIXME\n    this.accY = this.calculateAcc(this.tiltY, this.velY, \"y\"); // FIXME\n    \n    // Update velX\n    let prevVelX = this.velX;\n    this.velX += this.accX * deltaTime;\n    if (Math.sign(prevVelX) !== Math.sign(this.velX) && this.stopX) {\n      this.velX = 0;\n      this.accX = 0;\n    }\n    \n    // Update velY\n    let prevVelY = this.velY;\n    this.velY += this.accY * deltaTime;\n    if (Math.sign(prevVelY) !== Math.sign(this.velY) && this.stopY) {\n      this.velY = 0;\n      this.accY = 0;\n    }\n    \n    // Update posX\n    this.posX += this.velX * deltaTime;\n    if (this.posX - this.radius < 0) {\n      this.posX = this.radius;\n      this.velX = 0;\n    } else if (this.posX + this.radius > this.width) {\n      this.posX = this.width - this.radius;\n      this.velX = 0;\n    }\n    \n    // Update posY\n    this.posY += this.velY * deltaTime;\n    if (this.posY - this.radius < 0) {\n      this.posY = this.radius;\n      this.velY = 0;\n    } else if (this.posY + this.radius > this.height) {\n      this.posY = this.height - this.radius;\n      this.velY = 0;\n    }\n\n    this.checkWallCollisions();\n    this.checkBorderCollisions();\n\n    if (this.collision) {\n      // correct position\n      this.posX += this.shiftX;\n      this.posY += this.shiftY;\n\n      // correct velocity\n      if (\n        this.collision === \"top-left\" ||\n        this.collision === \"top-right\" ||\n        this.collision === \"bottom-left\" ||\n        this.collision === \"bottom-right\"\n      ) {\n        this.velX *= (-1 * this.bounciness);\n        this.velY *= (-1 * this.bounciness);\n      }\n      if (this.collision === \"top\" || this.collision === \"bottom\") {\n        this.velX *= this.bounciness;\n        this.velY *= (-1 * this.bounciness);\n      }\n      if (this.collision === \"left\" || this.collision === \"right\") {\n        this.velX *= (-1 * this.bounciness);\n        this.velY *= this.bounciness;\n      }\n\n    }\n    debugger\n  }\n\n  tiltUp(deltaTime) {\n    this.tiltY -= deltaTime * this.tiltMultiplier;\n    if (this.tiltY < -1 * this.maxTiltY) this.tiltY = -1 * this.maxTiltY;\n  }\n\n  tiltDown(deltaTime) {\n    this.tiltY += deltaTime * this.tiltMultiplier;\n    if (this.tiltY > this.maxTiltY) this.tiltY = this.maxTiltY;\n  }\n\n  tiltLeft(deltaTime) {\n    this.tiltX -= deltaTime * this.tiltMultiplier;\n    if (this.tiltX < -1 * this.maxTiltX) this.tiltX = -1 * this.maxTiltX;\n  }\n\n  tiltRight(deltaTime) {\n    this.tiltX += deltaTime * this.tiltMultiplier;\n    if (this.tiltX > this.maxTiltX) this.tiltX = this.maxTiltX;\n  }\n}","import './styles/index.scss';\nimport InputHandler from \"./scripts/input\";\nimport Game from \"./scripts/game\";\nimport Board from \"./scripts/board\";\nimport Marble from \"./scripts/marble\";\nimport walls from \"./scripts/walls\";\n\nlet canvas = document.getElementById(\"game-screen\");\nlet ctx = canvas.getContext(\"2d\");\n\nexport const CELL_SIZE = 36; // Game size multiplier\nexport const WALL_RADIUS = 2;\nexport const GAME_WIDTH = 22 * CELL_SIZE;\nexport const GAME_HEIGHT = 18 * CELL_SIZE;\n// const MARBLE_SIZE = 20;\nconst MARBLE_RADIUS = CELL_SIZE / 3;\n\nlet board = new Board(GAME_WIDTH, GAME_HEIGHT);\nlet marble = new Marble(MARBLE_RADIUS, GAME_WIDTH, GAME_HEIGHT, walls);\nlet inputHandler = new InputHandler(marble);\nlet game = new Game(board, marble, walls);\n\nlet lastTime = 0;\n\nfunction gameLoop(timestamp) {\n  let deltaTime = timestamp - lastTime;\n  lastTime = timestamp;\n\n  inputHandler.handleInput(deltaTime);\n  ctx.clearRect(0, 0, GAME_WIDTH, GAME_HEIGHT);\n  game.update(deltaTime);\n  game.draw(ctx);\n\n  requestAnimationFrame(gameLoop);\n}\n\nrequestAnimationFrame(gameLoop);\n"],"sourceRoot":""}